{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\msdtt\\\\OneDrive\\\\Documents\\\\amai_hr_next_js_hasura\\\\amai-hr\\\\pages\\\\index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { gql } from \"graphql-request\";\nimport { useRouter } from \"next/router\";\nimport useSWR from \"swr\";\nimport { hasuraUserClient } from \"../lib/hasura-user-client\";\nimport FullCalendar from \"@fullcalendar/react\"; // must go before plugins\n\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\nimport \"@fullcalendar/common/main.css\";\nimport \"@fullcalendar/daygrid/main.css\";\nimport \"@fullcalendar/timegrid/main.css\";\nimport \"@fullcalendar/list/main.css\";\nimport interactionPlugin from \"@fullcalendar/interaction\";\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\nimport listPlugin from \"@fullcalendar/list\";\nimport { useAuthState, useAuthDispatch } from \"../context/auth\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport styled from \"styled-components\";\nimport formatRelative from \"date-fns/formatRelative\";\nimport differenceInMinutes from \"date-fns/differenceInMinutes\";\nimport { Bar } from \"react-chartjs-2\";\nimport { Doughnut } from \"react-chartjs-2\";\nimport { Pie } from \"react-chartjs-2\";\nimport { differenceInHours } from \"date-fns\";\nimport { differenceInDays } from \"date-fns\";\nconst today = new Date();\nconst Dot = styled.span`\n  background-color: #4cd137;\n  position: absolute;\n\n  height: 20px;\n  width: 20px;\n  border: 5px solid white;\n  border-radius: 50%;\n  margin-top: -20px;\n  margin-left: 55px;\n`;\nconst DotAway = styled.span`\n  background-color: #f5c71a;\n  position: absolute;\n\n  height: 20px;\n  width: 20px;\n  border: 5px solid white;\n  border-radius: 50%;\n  margin-top: -20px;\n  margin-left: 55px;\n`;\nconst Users = gql`\n  query MyQuery {\n    User_aggregate {\n      aggregate {\n        count\n      }\n    }\n  }\n`;\nconst GetEvents = gql`\n  query MyQuery {\n    Event {\n      id\n      Title\n      description\n      start_date\n    }\n  }\n`;\nconst Projects = gql`\n  query Query {\n    Project_aggregate {\n      aggregate {\n        count\n      }\n    }\n  }\n`;\nconst Candidats = gql`\n  query Query {\n    Candidate_aggregate(where: { Status: { _eq: 0 } }) {\n      aggregate {\n        count\n      }\n    }\n  }\n`;\nconst CandidatsA = gql`\n  query Query {\n    Candidate_aggregate(where: { Status: { _eq: 1 } }) {\n      aggregate {\n        count\n      }\n    }\n  }\n`;\nconst CandidatsR = gql`\n  query Query {\n    Candidate_aggregate(where: { Status: { _eq: 2 } }) {\n      aggregate {\n        count\n      }\n    }\n  }\n`;\nconst GetUsers = gql`\n  {\n    User(order_by: { created_at: asc }) {\n      id\n      Name\n      created_at\n      last_seen\n      Avatar\n      last_seen_url\n    }\n  }\n`;\nexport const getStaticProps = async () => {\n  const hasura = hasuraUserClient();\n  const initialData = await hasura.request(Users);\n  const ProjectData = await hasura.request(Projects);\n  const CandidatsData = await hasura.request(Candidats);\n  const CandidatsDataA = await hasura.request(CandidatsA);\n  const CandidatsDataR = await hasura.request(CandidatsR);\n  const Events = await hasura.request(GetEvents);\n  const users = await hasura.request(GetUsers);\n  return {\n    props: {\n      initialData,\n      ProjectData,\n      CandidatsData,\n      Events,\n      users,\n      CandidatsDataA,\n      CandidatsDataR\n    },\n    revalidate: 1\n  };\n};\nexport default function Home({\n  initialData,\n  ProjectData,\n  CandidatsData,\n  CandidatsDataR,\n  CandidatsDataA,\n  Events,\n  users\n}) {\n  const hasura = hasuraUserClient();\n  const router = useRouter();\n  const {\n    isAuthenticated\n  } = useAuthState();\n  const {\n    0: loaded,\n    1: setLoaded\n  } = useState(false);\n  const {\n    0: hide,\n    1: sethide\n  } = useState(true);\n  const {\n    0: show,\n    1: setShow\n  } = useState(true); ///////////////////////////\n  ///////redirectifnotloggedin\n\n  function toggle() {\n    sethide(true);\n  }\n\n  function hidet() {\n    sethide(false);\n  }\n\n  function mouseEnter() {\n    setShow(false);\n  }\n\n  function mouseLeave() {\n    setShow(true);\n  }\n\n  useEffect(() => {\n    if (!isAuthenticated) {\n      router.push(\"/login\");\n    } else {\n      setLoaded(true);\n    }\n  }, []); ////\n\n  const {\n    data\n  } = useSWR(Users, query => hasura.request(query), {\n    initialData,\n    revalidateOnMount: true\n  });\n  const {\n    datay\n  } = useSWR(GetUsers, query => hasura.request(query), {\n    users,\n    revalidateOnMount: true\n  });\n  const {\n    dataEvents\n  } = useSWR(GetEvents, query => hasura.request(query), {\n    Events,\n    revalidateOnMount: true\n  });\n\n  if (!loaded) {\n    return __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 12\n      }\n    }); //show nothing or a loader\n  }\n\n  const datasta = {\n    labels: [\"Users\", \"projects\", \"Candidates\"],\n    datasets: [{\n      label: \"Statistics\",\n      data: [data.User_aggregate.aggregate.count, ProjectData.Project_aggregate.aggregate.count, CandidatsData.Candidate_aggregate.aggregate.count],\n      backgroundColor: [\"rgba(255, 99, 132, 0.2)\", \"rgba(54, 162, 235, 0.2)\", \"rgba(255, 206, 86, 0.2)\", \"rgba(75, 192, 192, 0.2)\", \"rgba(153, 102, 255, 0.2)\", \"rgba(255, 159, 64, 0.2)\"],\n      borderColor: [\"rgba(255, 99, 132, 1)\", \"rgba(54, 162, 235, 1)\", \"rgba(255, 206, 86, 1)\", \"rgba(75, 192, 192, 1)\", \"rgba(153, 102, 255, 1)\", \"rgba(255, 159, 64, 1)\"],\n      borderWidth: 1\n    }]\n  };\n  const dataCand = {\n    labels: [\"Approved Candidates\", \"Rejected Candidates\", \"Pending Candidates\"],\n    datasets: [{\n      label: \"Statistics\",\n      data: [CandidatsDataA.Candidate_aggregate.aggregate.count, CandidatsDataR.Candidate_aggregate.aggregate.count, CandidatsData.Candidate_aggregate.aggregate.count],\n      backgroundColor: [\"rgba(255, 99, 132, 0.2)\", \"rgba(54, 162, 235, 0.2)\", \"rgba(255, 206, 86, 0.2)\", \"rgba(75, 192, 192, 0.2)\", \"rgba(153, 102, 255, 0.2)\", \"rgba(255, 159, 64, 0.2)\"],\n      borderColor: [\"rgba(255, 99, 132, 1)\", \"rgba(54, 162, 235, 1)\", \"rgba(255, 206, 86, 1)\", \"rgba(75, 192, 192, 1)\", \"rgba(153, 102, 255, 1)\", \"rgba(255, 159, 64, 1)\"],\n      borderWidth: 1\n    }]\n  };\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"page-content-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"page-content\",\n    style: {\n      minHeight: 1500\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"col-md-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 11\n    }\n  }, \" \", __jsx(\"div\", {\n    className: \"portlet light bordered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 13\n    }\n  }, __jsx(\"h1\", {\n    className: \"page-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 15\n    }\n  }, \" Admin Dashboard\"), __jsx(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 15\n    }\n  }, \"statistics, charts, recent events and reports\"), __jsx(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"col-lg-3 col-md-3 col-sm-6 col-xs-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 17\n    }\n  }, __jsx(\"a\", {\n    className: \"dashboard-stat dashboard-stat-v2 blue\",\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: \"visual\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 21\n    }\n  }, __jsx(\"i\", {\n    className: \"fa fa-comments\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 23\n    }\n  })), __jsx(\"div\", {\n    className: \"details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 23\n    }\n  }, __jsx(\"span\", {\n    \"data-counter\": \"counterup\",\n    \"data-value\": \"1349\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 25\n    }\n  }, data.User_aggregate.aggregate.count)), __jsx(\"div\", {\n    className: \"desc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 23\n    }\n  }, \" Users \")))), __jsx(\"div\", {\n    className: \"col-lg-3 col-md-3 col-sm-6 col-xs-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 17\n    }\n  }, __jsx(\"a\", {\n    className: \"dashboard-stat dashboard-stat-v2 red\",\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: \"visual\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 21\n    }\n  }, __jsx(\"i\", {\n    className: \"fa fa-bar-chart-o\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 23\n    }\n  })), __jsx(\"div\", {\n    className: \"details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 23\n    }\n  }, __jsx(\"span\", {\n    \"data-counter\": \"counterup\",\n    \"data-value\": \"12,5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 25\n    }\n  }), ProjectData.Project_aggregate.aggregate.count), __jsx(\"div\", {\n    className: \"desc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 23\n    }\n  }, \" Projects \")))), __jsx(\"div\", {\n    className: \"col-lg-3 col-md-3 col-sm-6 col-xs-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 17\n    }\n  }, __jsx(\"a\", {\n    className: \"dashboard-stat dashboard-stat-v2 green\",\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: \"visual\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 21\n    }\n  }, __jsx(\"i\", {\n    className: \"fa fa-shopping-cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 23\n    }\n  })), __jsx(\"div\", {\n    className: \"details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 23\n    }\n  }, __jsx(\"span\", {\n    \"data-counter\": \"counterup\",\n    \"data-value\": \"549\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 25\n    }\n  }, CandidatsData.Candidate_aggregate.aggregate.count)), __jsx(\"div\", {\n    className: \"desc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 23\n    }\n  }, \" Pending Candidats \"))))), \" \", __jsx(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 15\n    }\n  }), hide ? __jsx(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"portlet light bordered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: \"portlet-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"caption\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 23\n    }\n  }, __jsx(\"i\", {\n    className: \"icon-bubble font-dark hide\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 25\n    }\n  })), users.User.map(({\n    created_at,\n    id,\n    last_seen,\n    Name,\n    Avatar,\n    last_seen_url\n  }) => {\n    const formattedJoinedAt = formatRelative(Date.parse(created_at), today, {\n      weekStartsOn: 1\n    });\n    const formattedLastSeen = differenceInMinutes(today, Date.parse(last_seen));\n    const formattedLastSeeninHours = differenceInHours(today, Date.parse(last_seen));\n    const formattedLastSeenindays = differenceInDays(today, Date.parse(last_seen));\n    const isUserOnline = 2 >= formattedLastSeen;\n    return __jsx(\"div\", {\n      className: \"col-md-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 29\n      }\n    }, __jsx(\"div\", {\n      className: \"mt-img\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 31\n      }\n    }, Avatar ? __jsx(\"div\", {\n      className: \"profile-userpic\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 35\n      }\n    }, \" \", __jsx(\"img\", {\n      style: {\n        display: \"inline\",\n        width: 75,\n        height: 75,\n        objectFit: \"cover\"\n      },\n      src: `../${Avatar}`,\n      onMouseEnter: mouseEnter,\n      onMouseLeave: mouseLeave,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 37\n      }\n    }), \" \") : __jsx(\"div\", {\n      className: \"profile-userpic\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 35\n      }\n    }, __jsx(\"img\", {\n      style: {\n        display: \"inline\",\n        width: 75,\n        height: 75,\n        objectFit: \"cover\"\n      },\n      src: `../profile.png`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 37\n      }\n    }), \" \"), \" \", isUserOnline ? __jsx(Dot, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 35\n      }\n    }) : __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 35\n      }\n    }, __jsx(DotAway, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 37\n      }\n    }), !show ? __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 39\n      }\n    }, formattedLastSeen, \" min ago\") : __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 39\n      }\n    }))), __jsx(\"h3\", {\n      className: \"mt-username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 31\n      }\n    }, Name));\n  }), \" \", __jsx(\"span\", {\n    style: {\n      cursor: \"pointer\",\n      marginLeft: 820\n    },\n    onClick: hidet,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 23\n    }\n  }, __jsx(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 25\n    }\n  }, \"hide list\")))), \" \") : __jsx(\"span\", {\n    style: {\n      cursor: \"pointer\"\n    },\n    onClick: toggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 17\n    }\n  }, __jsx(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 19\n    }\n  }, \"show online users \")), __jsx(FullCalendar, {\n    plugins: [dayGridPlugin, timeGridPlugin, interactionPlugin, listPlugin],\n    headerToolbar: {\n      left: \"prev,next today\",\n      center: \"title\",\n      right: \"dayGridMonth,timeGridWeek,timeGridDay,listWeek\"\n    },\n    initialView: \"dayGridMonth\",\n    editable: true,\n    selectable: true,\n    selectMirror: true,\n    dayMaxEvents: true,\n    eventRemove: true,\n    events: Events.Event.map(({\n      id,\n      Title,\n      start_date\n    }) => {\n      return {\n        title: Title,\n        date: start_date\n      };\n    }),\n    eventColor: \"#378006\" // weekends={this.state.weekendsVisible}\n    // initialEvents={INITIAL_EVENTS} // alternatively, use the `events` setting to fetch from a feed\n    // select={this.handleDateSelect}\n    // eventContent={renderEventContent} // custom render function\n    // eventsSet={this.handleEvents} // called after events are initialized/added/changed/removed\n\n    /* you can update a remote database when these fire:\r\n    eventAdd={function(){}}\r\n    eventChange={function(){}}\r\n    */\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 437,\n      columnNumber: 15\n    }\n  }), __jsx(\"div\", {\n    className: \"clearfix\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 470,\n      columnNumber: 15\n    }\n  }))), \" \", __jsx(\"div\", {\n    className: \"col-md-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 11\n    }\n  }, \" \", __jsx(\"div\", {\n    className: \"portlet light bordered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 475,\n      columnNumber: 13\n    }\n  }, \" \", __jsx(Bar, {\n    data: datasta,\n    width: 400,\n    height: 200,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 477,\n      columnNumber: 15\n    }\n  })), __jsx(\"div\", {\n    className: \"portlet light bordered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 13\n    }\n  }, __jsx(Doughnut, {\n    data: datasta,\n    width: 400,\n    height: 400,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 480,\n      columnNumber: 15\n    }\n  })), __jsx(\"div\", {\n    className: \"portlet light bordered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 13\n    }\n  }, __jsx(Pie, {\n    data: dataCand,\n    width: 400,\n    height: 400,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 15\n    }\n  }))))));\n}","map":{"version":3,"sources":["C:/Users/msdtt/OneDrive/Documents/amai_hr_next_js_hasura/amai-hr/pages/index.js"],"names":["gql","useRouter","useSWR","hasuraUserClient","FullCalendar","dayGridPlugin","interactionPlugin","timeGridPlugin","listPlugin","useAuthState","useAuthDispatch","useEffect","useState","styled","formatRelative","differenceInMinutes","Bar","Doughnut","Pie","differenceInHours","differenceInDays","today","Date","Dot","span","DotAway","Users","GetEvents","Projects","Candidats","CandidatsA","CandidatsR","GetUsers","getStaticProps","hasura","initialData","request","ProjectData","CandidatsData","CandidatsDataA","CandidatsDataR","Events","users","props","revalidate","Home","router","isAuthenticated","loaded","setLoaded","hide","sethide","show","setShow","toggle","hidet","mouseEnter","mouseLeave","push","data","query","revalidateOnMount","datay","dataEvents","datasta","labels","datasets","label","User_aggregate","aggregate","count","Project_aggregate","Candidate_aggregate","backgroundColor","borderColor","borderWidth","dataCand","minHeight","User","map","created_at","id","last_seen","Name","Avatar","last_seen_url","formattedJoinedAt","parse","weekStartsOn","formattedLastSeen","formattedLastSeeninHours","formattedLastSeenindays","isUserOnline","display","width","height","objectFit","cursor","marginLeft","left","center","right","Event","Title","start_date","title","date"],"mappings":"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","sourcesContent":["import { gql } from \"graphql-request\";\r\nimport { useRouter } from \"next/router\";\r\nimport useSWR from \"swr\";\r\nimport { hasuraUserClient } from \"../lib/hasura-user-client\";\r\nimport FullCalendar from \"@fullcalendar/react\"; // must go before plugins\r\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\r\nimport \"@fullcalendar/common/main.css\";\r\nimport \"@fullcalendar/daygrid/main.css\";\r\nimport \"@fullcalendar/timegrid/main.css\";\r\nimport \"@fullcalendar/list/main.css\";\r\nimport interactionPlugin from \"@fullcalendar/interaction\";\r\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\r\nimport listPlugin from \"@fullcalendar/list\";\r\nimport { useAuthState, useAuthDispatch } from \"../context/auth\";\r\nimport { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport formatRelative from \"date-fns/formatRelative\";\r\nimport differenceInMinutes from \"date-fns/differenceInMinutes\";\r\nimport { Bar } from \"react-chartjs-2\";\r\nimport { Doughnut } from \"react-chartjs-2\";\r\nimport { Pie } from \"react-chartjs-2\";\r\n\r\nimport { differenceInHours } from \"date-fns\";\r\nimport { differenceInDays } from \"date-fns\";\r\n\r\nconst today = new Date();\r\n\r\nconst Dot = styled.span`\r\n  background-color: #4cd137;\r\n  position: absolute;\r\n\r\n  height: 20px;\r\n  width: 20px;\r\n  border: 5px solid white;\r\n  border-radius: 50%;\r\n  margin-top: -20px;\r\n  margin-left: 55px;\r\n`;\r\n\r\nconst DotAway = styled.span`\r\n  background-color: #f5c71a;\r\n  position: absolute;\r\n\r\n  height: 20px;\r\n  width: 20px;\r\n  border: 5px solid white;\r\n  border-radius: 50%;\r\n  margin-top: -20px;\r\n  margin-left: 55px;\r\n`;\r\nconst Users = gql`\r\n  query MyQuery {\r\n    User_aggregate {\r\n      aggregate {\r\n        count\r\n      }\r\n    }\r\n  }\r\n`;\r\nconst GetEvents = gql`\r\n  query MyQuery {\r\n    Event {\r\n      id\r\n      Title\r\n      description\r\n      start_date\r\n    }\r\n  }\r\n`;\r\nconst Projects = gql`\r\n  query Query {\r\n    Project_aggregate {\r\n      aggregate {\r\n        count\r\n      }\r\n    }\r\n  }\r\n`;\r\nconst Candidats = gql`\r\n  query Query {\r\n    Candidate_aggregate(where: { Status: { _eq: 0 } }) {\r\n      aggregate {\r\n        count\r\n      }\r\n    }\r\n  }\r\n`;\r\nconst CandidatsA = gql`\r\n  query Query {\r\n    Candidate_aggregate(where: { Status: { _eq: 1 } }) {\r\n      aggregate {\r\n        count\r\n      }\r\n    }\r\n  }\r\n`;\r\nconst CandidatsR = gql`\r\n  query Query {\r\n    Candidate_aggregate(where: { Status: { _eq: 2 } }) {\r\n      aggregate {\r\n        count\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst GetUsers = gql`\r\n  {\r\n    User(order_by: { created_at: asc }) {\r\n      id\r\n      Name\r\n      created_at\r\n      last_seen\r\n      Avatar\r\n      last_seen_url\r\n    }\r\n  }\r\n`;\r\n\r\nexport const getStaticProps = async () => {\r\n  const hasura = hasuraUserClient();\r\n\r\n  const initialData = await hasura.request(Users);\r\n  const ProjectData = await hasura.request(Projects);\r\n  const CandidatsData = await hasura.request(Candidats);\r\n  const CandidatsDataA = await hasura.request(CandidatsA);\r\n  const CandidatsDataR = await hasura.request(CandidatsR);\r\n\r\n  const Events = await hasura.request(GetEvents);\r\n  const users = await hasura.request(GetUsers);\r\n\r\n  return {\r\n    props: {\r\n      initialData,\r\n      ProjectData,\r\n      CandidatsData,\r\n      Events,\r\n      users,\r\n      CandidatsDataA,\r\n      CandidatsDataR,\r\n    },\r\n    revalidate: 1,\r\n  };\r\n};\r\n\r\nexport default function Home({\r\n  initialData,\r\n  ProjectData,\r\n  CandidatsData,\r\n  CandidatsDataR,\r\n  CandidatsDataA,\r\n  Events,\r\n  users,\r\n}) {\r\n  const hasura = hasuraUserClient();\r\n  const router = useRouter();\r\n  const { isAuthenticated } = useAuthState();\r\n  const [loaded, setLoaded] = useState(false);\r\n  const [hide, sethide] = useState(true);\r\n  const [show, setShow] = useState(true);\r\n\r\n  ///////////////////////////\r\n  ///////redirectifnotloggedin\r\n\r\n  function toggle() {\r\n    sethide(true);\r\n  }\r\n  function hidet() {\r\n    sethide(false);\r\n  }\r\n  function mouseEnter() {\r\n    setShow(false);\r\n  }\r\n\r\n  function mouseLeave() {\r\n    setShow(true);\r\n  }\r\n  useEffect(() => {\r\n    if (!isAuthenticated) {\r\n      router.push(\"/login\");\r\n    } else {\r\n      setLoaded(true);\r\n    }\r\n  }, []);\r\n\r\n  ////\r\n  const { data } = useSWR(Users, (query) => hasura.request(query), {\r\n    initialData,\r\n    revalidateOnMount: true,\r\n  });\r\n  const { datay } = useSWR(GetUsers, (query) => hasura.request(query), {\r\n    users,\r\n    revalidateOnMount: true,\r\n  });\r\n  const { dataEvents } = useSWR(GetEvents, (query) => hasura.request(query), {\r\n    Events,\r\n    revalidateOnMount: true,\r\n  });\r\n  if (!loaded) {\r\n    return <div></div>; //show nothing or a loader\r\n  }\r\n  const datasta = {\r\n    labels: [\"Users\", \"projects\", \"Candidates\"],\r\n    datasets: [\r\n      {\r\n        label: \"Statistics\",\r\n        data: [\r\n          data.User_aggregate.aggregate.count,\r\n          ProjectData.Project_aggregate.aggregate.count,\r\n          CandidatsData.Candidate_aggregate.aggregate.count,\r\n        ],\r\n        backgroundColor: [\r\n          \"rgba(255, 99, 132, 0.2)\",\r\n          \"rgba(54, 162, 235, 0.2)\",\r\n          \"rgba(255, 206, 86, 0.2)\",\r\n          \"rgba(75, 192, 192, 0.2)\",\r\n          \"rgba(153, 102, 255, 0.2)\",\r\n          \"rgba(255, 159, 64, 0.2)\",\r\n        ],\r\n        borderColor: [\r\n          \"rgba(255, 99, 132, 1)\",\r\n          \"rgba(54, 162, 235, 1)\",\r\n          \"rgba(255, 206, 86, 1)\",\r\n          \"rgba(75, 192, 192, 1)\",\r\n          \"rgba(153, 102, 255, 1)\",\r\n          \"rgba(255, 159, 64, 1)\",\r\n        ],\r\n        borderWidth: 1,\r\n      },\r\n    ],\r\n  };\r\n  const dataCand = {\r\n    labels: [\r\n      \"Approved Candidates\",\r\n      \"Rejected Candidates\",\r\n      \"Pending Candidates\",\r\n    ],\r\n    datasets: [\r\n      {\r\n        label: \"Statistics\",\r\n        data: [\r\n          CandidatsDataA.Candidate_aggregate.aggregate.count,\r\n          CandidatsDataR.Candidate_aggregate.aggregate.count,\r\n          CandidatsData.Candidate_aggregate.aggregate.count,\r\n        ],\r\n        backgroundColor: [\r\n          \"rgba(255, 99, 132, 0.2)\",\r\n          \"rgba(54, 162, 235, 0.2)\",\r\n          \"rgba(255, 206, 86, 0.2)\",\r\n          \"rgba(75, 192, 192, 0.2)\",\r\n          \"rgba(153, 102, 255, 0.2)\",\r\n          \"rgba(255, 159, 64, 0.2)\",\r\n        ],\r\n        borderColor: [\r\n          \"rgba(255, 99, 132, 1)\",\r\n          \"rgba(54, 162, 235, 1)\",\r\n          \"rgba(255, 206, 86, 1)\",\r\n          \"rgba(75, 192, 192, 1)\",\r\n          \"rgba(153, 102, 255, 1)\",\r\n          \"rgba(255, 159, 64, 1)\",\r\n        ],\r\n        borderWidth: 1,\r\n      },\r\n    ],\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"page-content-wrapper\">\r\n        <div className=\"page-content\" style={{ minHeight: 1500 }}>\r\n          <div className=\"col-md-8\">\r\n            {\" \"}\r\n            <div className=\"portlet light bordered\">\r\n              <h1 className=\"page-title\"> Admin Dashboard</h1>\r\n              <small>statistics, charts, recent events and reports</small>\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-3 col-md-3 col-sm-6 col-xs-12\">\r\n                  <a className=\"dashboard-stat dashboard-stat-v2 blue\" href=\"#\">\r\n                    <div className=\"visual\">\r\n                      <i className=\"fa fa-comments\"></i>\r\n                    </div>\r\n                    <div className=\"details\">\r\n                      <div className=\"number\">\r\n                        <span data-counter=\"counterup\" data-value=\"1349\">\r\n                          {data.User_aggregate.aggregate.count}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"desc\"> Users </div>\r\n                    </div>\r\n                  </a>\r\n                </div>\r\n                <div className=\"col-lg-3 col-md-3 col-sm-6 col-xs-12\">\r\n                  <a className=\"dashboard-stat dashboard-stat-v2 red\" href=\"#\">\r\n                    <div className=\"visual\">\r\n                      <i className=\"fa fa-bar-chart-o\"></i>\r\n                    </div>\r\n                    <div className=\"details\">\r\n                      <div className=\"number\">\r\n                        <span data-counter=\"counterup\" data-value=\"12,5\"></span>\r\n                        {ProjectData.Project_aggregate.aggregate.count}\r\n                      </div>\r\n                      <div className=\"desc\"> Projects </div>\r\n                    </div>\r\n                  </a>\r\n                </div>\r\n                <div className=\"col-lg-3 col-md-3 col-sm-6 col-xs-12\">\r\n                  <a\r\n                    className=\"dashboard-stat dashboard-stat-v2 green\"\r\n                    href=\"#\"\r\n                  >\r\n                    <div className=\"visual\">\r\n                      <i className=\"fa fa-shopping-cart\"></i>\r\n                    </div>\r\n                    <div className=\"details\">\r\n                      <div className=\"number\">\r\n                        <span data-counter=\"counterup\" data-value=\"549\">\r\n                          {CandidatsData.Candidate_aggregate.aggregate.count}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"desc\"> Pending Candidats </div>\r\n                    </div>\r\n                  </a>\r\n                </div>\r\n              </div>{\" \"}\r\n              <hr />\r\n              {hide ? (\r\n                <div className=\"row\">\r\n                  <div className=\"portlet light bordered\">\r\n                    <div className=\"portlet-title\">\r\n                      <div className=\"caption\">\r\n                        <i className=\"icon-bubble font-dark hide\"></i>\r\n                      </div>\r\n                      {users.User.map(\r\n                        ({\r\n                          created_at,\r\n                          id,\r\n                          last_seen,\r\n                          Name,\r\n                          Avatar,\r\n                          last_seen_url,\r\n                        }) => {\r\n                          const formattedJoinedAt = formatRelative(\r\n                            Date.parse(created_at),\r\n                            today,\r\n                            {\r\n                              weekStartsOn: 1,\r\n                            }\r\n                          );\r\n\r\n                          const formattedLastSeen = differenceInMinutes(\r\n                            today,\r\n                            Date.parse(last_seen)\r\n                          );\r\n\r\n                          const formattedLastSeeninHours = differenceInHours(\r\n                            today,\r\n                            Date.parse(last_seen)\r\n                          );\r\n                          const formattedLastSeenindays = differenceInDays(\r\n                            today,\r\n                            Date.parse(last_seen)\r\n                          );\r\n                          const isUserOnline = 2 >= formattedLastSeen;\r\n\r\n                          return (\r\n                            <div className=\"col-md-1\">\r\n                              <div className=\"mt-img\">\r\n                                {Avatar ? (\r\n                                  <div className=\"profile-userpic\">\r\n                                    {\" \"}\r\n                                    <img\r\n                                      style={{\r\n                                        display: \"inline\",\r\n                                        width: 75,\r\n                                        height: 75,\r\n                                        objectFit: \"cover\",\r\n                                      }}\r\n                                      src={`../${Avatar}`}\r\n                                      onMouseEnter={mouseEnter}\r\n                                      onMouseLeave={mouseLeave}\r\n                                    />{\" \"}\r\n                                  </div>\r\n                                ) : (\r\n                                  <div className=\"profile-userpic\">\r\n                                    <img\r\n                                      style={{\r\n                                        display: \"inline\",\r\n                                        width: 75,\r\n                                        height: 75,\r\n                                        objectFit: \"cover\",\r\n                                      }}\r\n                                      src={`../profile.png`}\r\n                                    />{\" \"}\r\n                                  </div>\r\n                                )}{\" \"}\r\n                                {isUserOnline ? (\r\n                                  <Dot />\r\n                                ) : (\r\n                                  <div>\r\n                                    <DotAway />\r\n                                    {!show ? (\r\n                                      <div>{formattedLastSeen} min ago</div>\r\n                                    ) : (\r\n                                      <div></div>\r\n                                    )}\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n\r\n                              <h3 className=\"mt-username\">{Name}</h3>\r\n                            </div>\r\n                          );\r\n                        }\r\n                      )}{\" \"}\r\n                      <span\r\n                        style={{\r\n                          cursor: \"pointer\",\r\n                          marginLeft: 820,\r\n                        }}\r\n                        onClick={hidet}\r\n                      >\r\n                        <strong>hide list</strong>\r\n                      </span>\r\n                    </div>\r\n                  </div>{\" \"}\r\n                </div>\r\n              ) : (\r\n                <span\r\n                  style={{\r\n                    cursor: \"pointer\",\r\n                  }}\r\n                  onClick={toggle}\r\n                >\r\n                  <strong>show online users </strong>\r\n                </span>\r\n              )}\r\n              <FullCalendar\r\n                plugins={[\r\n                  dayGridPlugin,\r\n                  timeGridPlugin,\r\n                  interactionPlugin,\r\n                  listPlugin,\r\n                ]}\r\n                headerToolbar={{\r\n                  left: \"prev,next today\",\r\n                  center: \"title\",\r\n                  right: \"dayGridMonth,timeGridWeek,timeGridDay,listWeek\",\r\n                }}\r\n                initialView=\"dayGridMonth\"\r\n                editable={true}\r\n                selectable={true}\r\n                selectMirror={true}\r\n                dayMaxEvents={true}\r\n                eventRemove\r\n                events={Events.Event.map(({ id, Title, start_date }) => {\r\n                  return { title: Title, date: start_date };\r\n                })}\r\n                eventColor=\"#378006\"\r\n\r\n                // weekends={this.state.weekendsVisible}\r\n                // initialEvents={INITIAL_EVENTS} // alternatively, use the `events` setting to fetch from a feed\r\n                // select={this.handleDateSelect}\r\n                // eventContent={renderEventContent} // custom render function\r\n                // eventsSet={this.handleEvents} // called after events are initialized/added/changed/removed\r\n                /* you can update a remote database when these fire:\r\n                eventAdd={function(){}}\r\n                eventChange={function(){}}\r\n                */\r\n              />\r\n              <div className=\"clearfix\"></div>\r\n            </div>\r\n          </div>{\" \"}\r\n          <div className=\"col-md-4\">\r\n            {\" \"}\r\n            <div className=\"portlet light bordered\">\r\n              {\" \"}\r\n              <Bar data={datasta} width={400} height={200} />\r\n            </div>\r\n            <div className=\"portlet light bordered\">\r\n              <Doughnut data={datasta} width={400} height={400} />\r\n            </div>\r\n            <div className=\"portlet light bordered\">\r\n              <Pie data={dataCand} width={400} height={400} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}