{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\msdtt\\\\OneDrive\\\\Documents\\\\amai_hr_next_js_hasura\\\\amai-hr\\\\pages\\\\testimage.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from \"react\";\nexport default function PrivatePage(props) {\n  _s();\n\n  var _useState = useState(null),\n      image = _useState[0],\n      setImage = _useState[1];\n\n  var _useState2 = useState(null),\n      createObjectURL = _useState2[0],\n      setCreateObjectURL = _useState2[1];\n\n  var uploadToClient = function uploadToClient(event) {\n    if (event.target.files && event.target.files[0]) {\n      var i = event.target.files[0];\n      setImage(i);\n      setCreateObjectURL(URL.createObjectURL(i));\n    }\n  };\n\n  var uploadToServer = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n      var body, response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              body = new FormData();\n              body.append(\"file\", image);\n              _context.next = 4;\n              return fetch(\"/api/file\", {\n                method: \"POST\",\n                body: body\n              });\n\n            case 4:\n              response = _context.sent;\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function uploadToServer(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"div\", {\n    className: \"page-content-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"page-content\",\n    style: {\n      minHeight: 1500\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }\n  }, __jsx(\"img\", {\n    src: createObjectURL,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }\n  }), __jsx(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, \"Select Image\"), __jsx(\"input\", {\n    type: \"file\",\n    name: \"myImage\",\n    onChange: uploadToClient,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }), __jsx(\"button\", {\n    className: \"btn btn-primary\",\n    type: \"submit\",\n    onClick: uploadToServer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }, \"Send to server\")));\n}\n\n_s(PrivatePage, \"rp44J9Ng5VGV7+NNm8BqmxIpJQo=\");\n\n_c = PrivatePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"PrivatePage\");","map":{"version":3,"sources":["C:/Users/msdtt/OneDrive/Documents/amai_hr_next_js_hasura/amai-hr/pages/testimage.js"],"names":["useState","PrivatePage","props","image","setImage","createObjectURL","setCreateObjectURL","uploadToClient","event","target","files","i","URL","uploadToServer","body","FormData","append","fetch","method","response","minHeight"],"mappings":";;;;;;;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AAEA,eAAe,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AAAA;;AACzC,kBAA0BF,QAAQ,CAAC,IAAD,CAAlC;AAAA,MAAOG,KAAP;AAAA,MAAcC,QAAd;;AACA,mBAA8CJ,QAAQ,CAAC,IAAD,CAAtD;AAAA,MAAOK,eAAP;AAAA,MAAwBC,kBAAxB;;AAEA,MAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,KAAD,EAAW;AAChC,QAAIA,KAAK,CAACC,MAAN,CAAaC,KAAb,IAAsBF,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAA1B,EAAiD;AAC/C,UAAMC,CAAC,GAAGH,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAV;AAEAN,MAAAA,QAAQ,CAACO,CAAD,CAAR;AACAL,MAAAA,kBAAkB,CAACM,GAAG,CAACP,eAAJ,CAAoBM,CAApB,CAAD,CAAlB;AACD;AACF,GAPD;;AASA,MAAME,cAAc;AAAA,wEAAG,iBAAOL,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACfM,cAAAA,IADe,GACR,IAAIC,QAAJ,EADQ;AAErBD,cAAAA,IAAI,CAACE,MAAL,CAAY,MAAZ,EAAoBb,KAApB;AAFqB;AAAA,qBAGEc,KAAK,CAAC,WAAD,EAAc;AACxCC,gBAAAA,MAAM,EAAE,MADgC;AAExCJ,gBAAAA,IAAI,EAAJA;AAFwC,eAAd,CAHP;;AAAA;AAGfK,cAAAA,QAHe;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAdN,cAAc;AAAA;AAAA;AAAA,KAApB;;AASA,SACE;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAA8B,IAAA,KAAK,EAAE;AAAEO,MAAAA,SAAS,EAAE;AAAb,KAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,GAAG,EAAEf,eAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF,EAGE;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,IAAI,EAAC,SAAxB;AAAkC,IAAA,QAAQ,EAAEE,cAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,EAIE;AACE,IAAA,SAAS,EAAC,iBADZ;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,OAAO,EAAEM,cAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAJF,CADF,CADF;AAgBD;;GAtCuBZ,W;;KAAAA,W","sourcesContent":["import { useState } from \"react\";\r\n\r\nexport default function PrivatePage(props) {\r\n  const [image, setImage] = useState(null);\r\n  const [createObjectURL, setCreateObjectURL] = useState(null);\r\n\r\n  const uploadToClient = (event) => {\r\n    if (event.target.files && event.target.files[0]) {\r\n      const i = event.target.files[0];\r\n\r\n      setImage(i);\r\n      setCreateObjectURL(URL.createObjectURL(i));\r\n    }\r\n  };\r\n\r\n  const uploadToServer = async (event) => {\r\n    const body = new FormData();\r\n    body.append(\"file\", image);\r\n    const response = await fetch(\"/api/file\", {\r\n      method: \"POST\",\r\n      body,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"page-content-wrapper\">\r\n      <div className=\"page-content\" style={{ minHeight: 1500 }}>\r\n        <img src={createObjectURL} />\r\n        <h4>Select Image</h4>\r\n        <input type=\"file\" name=\"myImage\" onChange={uploadToClient} />\r\n        <button\r\n          className=\"btn btn-primary\"\r\n          type=\"submit\"\r\n          onClick={uploadToServer}\r\n        >\r\n          Send to server\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}