{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect } from \"react\";\nimport { useRouter } from \"next/router\";\nimport { useForm } from \"react-hook-form\";\nimport { useAuthState, useAuthDispatch } from \"../context/auth\";\nimport Layout2 from \"../pages/Components/Layout2\";\nexport default function RegisterPage() {\n  var router = useRouter();\n\n  var _useAuthState = useAuthState(),\n      isAuthenticated = _useAuthState.isAuthenticated;\n\n  var _useAuthDispatch = useAuthDispatch(),\n      login = _useAuthDispatch.login;\n\n  var _useForm = useForm({\n    defaultValues: {\n      save_last_seen: true\n    }\n  }),\n      handleSubmit = _useForm.handleSubmit,\n      register = _useForm.register,\n      errors = _useForm.errors,\n      isSubmitting = _useForm.formState.isSubmitting,\n      setError = _useForm.setError;\n\n  useEffect(function () {\n    if (isAuthenticated) {\n      router.push(\"/\");\n    }\n  }, [isAuthenticated]);\n  if (isAuthenticated) return null;\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n      var email, password, save_last_seen, message;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              email = _ref.email, password = _ref.password, save_last_seen = _ref.save_last_seen;\n              _context.prev = 1;\n              _context.next = 4;\n              return login({\n                email: email,\n                password: password,\n                save_last_seen: save_last_seen\n              });\n\n            case 4:\n              router.push(\"/\");\n              _context.next = 11;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](1);\n              message = _context.t0.message;\n              setError(\"email\", {\n                type: \"manual\",\n                message: message\n              });\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 7]]);\n    }));\n\n    return function onSubmit(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"body\", {\n    className: \"login\"\n  }, __jsx(\"img\", {\n    src: \"../assets/pages/img/AMAI-AI-Experts-white.inline.svg\",\n    style: {\n      height: 17\n    },\n    alt: \"\"\n  }), \" \", __jsx(\"div\", {\n    \"class\": \"content\"\n  }, __jsx(\"h3\", {\n    \"class\": \"form-title font-green\"\n  }, \"Sign In\"), __jsx(\"div\", {\n    \"class\": \"alert alert-danger display-hide\"\n  }, __jsx(\"button\", {\n    \"class\": \"close\",\n    \"data-close\": \"alert\"\n  }), __jsx(\"span\", null, \" Enter any username and password. \")), __jsx(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    \"class\": \"login-form\"\n  }, __jsx(\"div\", {\n    \"class\": \"form-group\"\n  }, __jsx(\"input\", {\n    \"class\": \"form-control form-control-solid placeholder-no-fix\",\n    type: \"email\",\n    name: \"email\",\n    id: \"email\",\n    ref: register({\n      value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n      required: \"You must provide a email.\"\n    }),\n    placeholder: \"Your email\"\n  }), errors.email && __jsx(\"span\", null, errors.email.message)), __jsx(\"div\", null, __jsx(\"label\", {\n    \"class\": \"control-label visible-ie8 visible-ie9\"\n  }, \"Password\"), __jsx(\"input\", {\n    \"class\": \"form-control placeholder-no-fix\",\n    type: \"password\",\n    name: \"password\",\n    id: \"password\",\n    ref: register({\n      required: \"You must provide a password.\"\n    }),\n    placeholder: \"Enter your password\"\n  }), errors.password && __jsx(\"span\", null, errors.password.message)), __jsx(\"div\", {\n    \"class\": \"form-actions\"\n  }, __jsx(\"button\", {\n    \"class\": \"btn green uppercase\",\n    type: \"submit\",\n    disabled: isSubmitting\n  }, \"Login\"), \" \", __jsx(\"label\", {\n    htmlFor: \"save_last_seen\",\n    \"class\": \"rememberme check mt-checkbox mt-checkbox-outline\"\n  }, __jsx(\"input\", {\n    type: \"checkbox\",\n    id: \"save_last_seen\",\n    name: \"save_last_seen\",\n    ref: register\n  }), \"Show as online to other users \", __jsx(\"span\", null))))));\n}","map":null,"metadata":{},"sourceType":"module"}