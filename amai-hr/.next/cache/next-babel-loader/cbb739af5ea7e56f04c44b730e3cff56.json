{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect } from \"react\";\nimport { useRouter } from \"next/router\";\nimport { useForm } from \"react-hook-form\";\nimport { useAuthState, useAuthDispatch } from \"../context/auth\";\nimport Layout2 from \"../pages/Components/Layout2\";\nexport default function RegisterPage() {\n  const router = useRouter();\n  const {\n    isAuthenticated\n  } = useAuthState();\n  const {\n    login\n  } = useAuthDispatch();\n  const {\n    handleSubmit,\n    register,\n    errors,\n    formState: {\n      isSubmitting\n    },\n    setError\n  } = useForm({\n    defaultValues: {\n      save_last_seen: true\n    }\n  });\n  useEffect(() => {\n    if (isAuthenticated) {\n      router.push(\"/\");\n    }\n  }, [isAuthenticated]);\n  if (isAuthenticated) return null;\n\n  const onSubmit = async ({\n    email,\n    password,\n    save_last_seen\n  }) => {\n    try {\n      await login({\n        email,\n        password,\n        save_last_seen\n      });\n      router.push(\"/\");\n    } catch ({\n      message\n    }) {\n      setError(\"email\", {\n        type: \"manual\",\n        message\n      });\n    }\n  };\n\n  return __jsx(\"body\", {\n    className: \"login\"\n  }, __jsx(\"img\", {\n    src: \"../assets/pages/img/AMAI-AI-Experts-white.inline.svg\",\n    style: {\n      height: 17\n    },\n    alt: \"\"\n  }), \" \", __jsx(\"div\", {\n    class: \"content\"\n  }, __jsx(\"h3\", {\n    class: \"form-title font-green\"\n  }, \"Sign In\"), __jsx(\"div\", {\n    class: \"alert alert-danger display-hide\"\n  }, __jsx(\"button\", {\n    class: \"close\",\n    \"data-close\": \"alert\"\n  }), __jsx(\"span\", null, \" Enter any username and password. \")), __jsx(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    class: \"login-form\"\n  }, __jsx(\"div\", {\n    class: \"form-group\"\n  }, __jsx(\"input\", {\n    class: \"form-control form-control-solid placeholder-no-fix\",\n    type: \"email\",\n    name: \"email\",\n    id: \"email\",\n    ref: register({\n      value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n      required: \"You must provide a email.\"\n    }),\n    placeholder: \"Your email\"\n  }), errors.email && __jsx(\"span\", null, errors.email.message)), __jsx(\"div\", null, __jsx(\"label\", {\n    class: \"control-label visible-ie8 visible-ie9\"\n  }, \"Password\"), __jsx(\"input\", {\n    class: \"form-control placeholder-no-fix\",\n    type: \"password\",\n    name: \"password\",\n    id: \"password\",\n    ref: register({\n      required: \"You must provide a password.\"\n    }),\n    placeholder: \"Enter your password\"\n  }), errors.password && __jsx(\"span\", null, errors.password.message)), __jsx(\"div\", {\n    class: \"form-actions\"\n  }, __jsx(\"button\", {\n    class: \"btn green uppercase\",\n    type: \"submit\",\n    disabled: isSubmitting\n  }, \"Login\"), \" \", __jsx(\"label\", {\n    htmlFor: \"save_last_seen\",\n    class: \"rememberme check mt-checkbox mt-checkbox-outline\"\n  }, __jsx(\"input\", {\n    type: \"checkbox\",\n    id: \"save_last_seen\",\n    name: \"save_last_seen\",\n    ref: register\n  }), \"Show as online to other users \", __jsx(\"span\", null))))));\n}","map":null,"metadata":{},"sourceType":"module"}