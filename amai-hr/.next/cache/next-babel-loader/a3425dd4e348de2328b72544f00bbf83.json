{"ast":null,"code":"import sgMail from '@sendgrid/mail';\nsgMail.setApiKey(process.env.EMAIL_API_KEY);\nexport default (async (req, res) => {\n  const {\n    email,\n    subject,\n    message,\n    name\n  } = req.body;\n  const msg = {\n    to: '<your-email@example.com',\n    from: email,\n    subject,\n    name,\n    text: message\n  };\n\n  try {\n    await sgMail.send(msg);\n    res.json({\n      message: `Email has been sent`\n    });\n  } catch (error) {\n    res.status(500).json({\n      error: 'Error sending email'\n    });\n  }\n});","map":{"version":3,"sources":["C:/Users/msdtt/OneDrive/Documents/amai_hr_next_js_hasura/amai-hr/pages/api/contact.js"],"names":["sgMail","setApiKey","process","env","EMAIL_API_KEY","req","res","email","subject","message","name","body","msg","to","from","text","send","json","error","status"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,gBAAnB;AAEAA,MAAM,CAACC,SAAP,CAAiBC,OAAO,CAACC,GAAR,CAAYC,aAA7B;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjC,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA,OAAT;AAAkBC,IAAAA,OAAlB;AAA2BC,IAAAA;AAA3B,MAAoCL,GAAG,CAACM,IAA9C;AACA,QAAMC,GAAG,GAAG;AACVC,IAAAA,EAAE,EAAE,yBADM;AAEVC,IAAAA,IAAI,EAAEP,KAFI;AAGVC,IAAAA,OAHU;AAIVE,IAAAA,IAJU;AAKVK,IAAAA,IAAI,EAAEN;AALI,GAAZ;;AAQA,MAAI;AACF,UAAMT,MAAM,CAACgB,IAAP,CAAYJ,GAAZ,CAAN;AACAN,IAAAA,GAAG,CAACW,IAAJ,CAAS;AAAER,MAAAA,OAAO,EAAG;AAAZ,KAAT;AACD,GAHD,CAGE,OAAOS,KAAP,EAAc;AACdZ,IAAAA,GAAG,CAACa,MAAJ,CAAW,GAAX,EAAgBF,IAAhB,CAAqB;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAArB;AACD;AACF,CAhBD","sourcesContent":["import sgMail from '@sendgrid/mail'\r\n\r\nsgMail.setApiKey(process.env.EMAIL_API_KEY);\r\n\r\nexport default async (req, res) => {\r\n  const { email, subject, message, name } = req.body\r\n  const msg = {\r\n    to: '<your-email@example.com',\r\n    from: email,\r\n    subject,\r\n    name,\r\n    text: message,\r\n  };\r\n\r\n  try {\r\n    await sgMail.send(msg);\r\n    res.json({ message: `Email has been sent` })\r\n  } catch (error) {\r\n    res.status(500).json({ error: 'Error sending email' })\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}