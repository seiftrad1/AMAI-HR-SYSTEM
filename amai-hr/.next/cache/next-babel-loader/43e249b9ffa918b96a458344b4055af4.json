{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\msdtt\\\\OneDrive\\\\Documents\\\\amai_hr_next_js_hasura\\\\amai-hr\\\\pages\\\\api\\\\pdf.js\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Header from \"../Components/Header/Header\";\nimport PDFLayout from \"./Components/PDFLayout\";\nimport pdfHelper from \"../../lib/pdfHelper\";\n\nclass IndexPage extends React.Component {\n  static async getInitialProps({\n    req,\n    res,\n    query\n  }) {\n    const exportPDF = query.exportPDF === \"true\";\n    const isServer = !!req;\n\n    if (isServer && exportPDF) {\n      const buffer = await pdfHelper.componentToPDFBuffer(__jsx(PDFLayout, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 14,\n          columnNumber: 9\n        }\n      }, __jsx(Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 15,\n          columnNumber: 11\n        }\n      }))); // with this header, your browser will prompt you to download the file\n      // without this header, your browse will open the pdf directly\n\n      res.setHeader(\"Content-disposition\", 'attachment; filename=\"article.pdf'); // set content type\n\n      res.setHeader(\"Content-Type\", \"application/pdf\"); // output the pdf buffer. once res.end is triggered, it won't trigger the render method\n\n      res.end(buffer);\n    }\n\n    return {};\n  }\n\n  render() {\n    return __jsx(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 12\n      }\n    });\n  }\n\n}\n\nexport default IndexPage;","map":{"version":3,"sources":["C:/Users/msdtt/OneDrive/Documents/amai_hr_next_js_hasura/amai-hr/pages/api/pdf.js"],"names":["React","Header","PDFLayout","pdfHelper","IndexPage","Component","getInitialProps","req","res","query","exportPDF","isServer","buffer","componentToPDFBuffer","setHeader","end","render"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,MAAP,MAAmB,6BAAnB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,SAAP,MAAsB,qBAAtB;;AAEA,MAAMC,SAAN,SAAwBJ,KAAK,CAACK,SAA9B,CAAwC;AACV,eAAfC,eAAe,CAAC;AAAEC,IAAAA,GAAF;AAAOC,IAAAA,GAAP;AAAYC,IAAAA;AAAZ,GAAD,EAAsB;AAChD,UAAMC,SAAS,GAAGD,KAAK,CAACC,SAAN,KAAoB,MAAtC;AACA,UAAMC,QAAQ,GAAG,CAAC,CAACJ,GAAnB;;AAEA,QAAII,QAAQ,IAAID,SAAhB,EAA2B;AACzB,YAAME,MAAM,GAAG,MAAMT,SAAS,CAACU,oBAAV,CACnB,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADmB,CAArB,CADyB,CAOzB;AACA;;AACAL,MAAAA,GAAG,CAACM,SAAJ,CAAc,qBAAd,EAAqC,mCAArC,EATyB,CAWzB;;AACAN,MAAAA,GAAG,CAACM,SAAJ,CAAc,cAAd,EAA8B,iBAA9B,EAZyB,CAczB;;AACAN,MAAAA,GAAG,CAACO,GAAJ,CAAQH,MAAR;AACD;;AAED,WAAO,EAAP;AACD;;AAEDI,EAAAA,MAAM,GAAG;AACP,WAAO,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;;AA5BqC;;AA+BxC,eAAeZ,SAAf","sourcesContent":["import React from \"react\";\r\n\r\nimport Header from \"../Components/Header/Header\";\r\nimport PDFLayout from \"./Components/PDFLayout\";\r\nimport pdfHelper from \"../../lib/pdfHelper\";\r\n\r\nclass IndexPage extends React.Component {\r\n  static async getInitialProps({ req, res, query }) {\r\n    const exportPDF = query.exportPDF === \"true\";\r\n    const isServer = !!req;\r\n\r\n    if (isServer && exportPDF) {\r\n      const buffer = await pdfHelper.componentToPDFBuffer(\r\n        <PDFLayout>\r\n          <Header />\r\n        </PDFLayout>\r\n      );\r\n\r\n      // with this header, your browser will prompt you to download the file\r\n      // without this header, your browse will open the pdf directly\r\n      res.setHeader(\"Content-disposition\", 'attachment; filename=\"article.pdf');\r\n\r\n      // set content type\r\n      res.setHeader(\"Content-Type\", \"application/pdf\");\r\n\r\n      // output the pdf buffer. once res.end is triggered, it won't trigger the render method\r\n      res.end(buffer);\r\n    }\r\n\r\n    return {};\r\n  }\r\n\r\n  render() {\r\n    return <Header />;\r\n  }\r\n}\r\n\r\nexport default IndexPage;\r\n"]},"metadata":{},"sourceType":"module"}