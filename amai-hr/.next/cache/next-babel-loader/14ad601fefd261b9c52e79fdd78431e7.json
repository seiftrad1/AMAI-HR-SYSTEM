{"ast":null,"code":"import React from \"react\";\nimport gql from \"graphql-tag\";\nimport Header from \"./Header/Header\";\nimport { hasuraUserClient } from \"../../lib/hasura-user-client\";\nimport { useEffect } from \"react\";\nimport { useRouter } from \"next/router\";\nconst Notification_count = gql`\n  query MyQuery {\n    notification_aggregate {\n      aggregate {\n        count(columns: id)\n      }\n    }\n  }\n`;\nexport default function Notification({\n  children,\n  c\n}) {\n  useEffect(() => {\n    updateLastSeen();\n  });\n\n  const updateLastSeen = async () => {\n    const hasura = hasuraUserClient();\n    const initialData = await hasura.request(Notification_count);\n    const c = initialData.notification_aggregate.aggregate.count;\n    console.log(c);\n    await hasura.request(Notification_count);\n    return {\n      props: {\n        initialData,\n        c\n      },\n      revalidate: 1\n    };\n  };\n\n  return children;\n}","map":{"version":3,"sources":["C:/Users/msdtt/OneDrive/Documents/amai_hr_next_js_hasura/amai-hr/pages/Components/Notification.js"],"names":["React","gql","Header","hasuraUserClient","useEffect","useRouter","Notification_count","Notification","children","c","updateLastSeen","hasura","initialData","request","notification_aggregate","aggregate","count","console","log","props","revalidate"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,SAASC,gBAAT,QAAiC,8BAAjC;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,SAAT,QAA0B,aAA1B;AAEA,MAAMC,kBAAkB,GAAGL,GAAI;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CARA;AASA,eAAe,SAASM,YAAT,CAAsB;AAAEC,EAAAA,QAAF;AAAYC,EAAAA;AAAZ,CAAtB,EAAuC;AACpDL,EAAAA,SAAS,CAAC,MAAM;AACdM,IAAAA,cAAc;AACf,GAFQ,CAAT;;AAIA,QAAMA,cAAc,GAAG,YAAY;AACjC,UAAMC,MAAM,GAAGR,gBAAgB,EAA/B;AACA,UAAMS,WAAW,GAAG,MAAMD,MAAM,CAACE,OAAP,CAAeP,kBAAf,CAA1B;AACA,UAAMG,CAAC,GAAGG,WAAW,CAACE,sBAAZ,CAAmCC,SAAnC,CAA6CC,KAAvD;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYT,CAAZ;AAEA,UAAME,MAAM,CAACE,OAAP,CAAeP,kBAAf,CAAN;AACA,WAAO;AACLa,MAAAA,KAAK,EAAE;AACLP,QAAAA,WADK;AAELH,QAAAA;AAFK,OADF;AAKLW,MAAAA,UAAU,EAAE;AALP,KAAP;AAOD,GAdD;;AAgBA,SAAOZ,QAAP;AACD","sourcesContent":["import React from \"react\";\r\nimport gql from \"graphql-tag\";\r\nimport Header from \"./Header/Header\";\r\nimport { hasuraUserClient } from \"../../lib/hasura-user-client\";\r\nimport { useEffect } from \"react\";\r\nimport { useRouter } from \"next/router\";\r\n\r\nconst Notification_count = gql`\r\n  query MyQuery {\r\n    notification_aggregate {\r\n      aggregate {\r\n        count(columns: id)\r\n      }\r\n    }\r\n  }\r\n`;\r\nexport default function Notification({ children, c }) {\r\n  useEffect(() => {\r\n    updateLastSeen();\r\n  });\r\n\r\n  const updateLastSeen = async () => {\r\n    const hasura = hasuraUserClient();\r\n    const initialData = await hasura.request(Notification_count);\r\n    const c = initialData.notification_aggregate.aggregate.count;\r\n    console.log(c);\r\n\r\n    await hasura.request(Notification_count);\r\n    return {\r\n      props: {\r\n        initialData,\r\n        c,\r\n      },\r\n      revalidate: 1,\r\n    };\r\n  };\r\n\r\n  return children;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}