{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\msdtt\\\\OneDrive\\\\Documents\\\\amai_hr_next_js_hasura\\\\amai-hr\\\\pages\\\\api\\\\pdf.js\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Header from \"../Components/Header/Header\";\nimport PDFLayout from \"../Components/PDFLayout\";\nimport pdfHelper from \"../../lib/pdfHelper\";\nexport default (async ({\n  req,\n  res,\n  query\n}) => {\n  const exportPDF = query.exportPDF === \"true\";\n  const isServer = !!req;\n\n  if (isServer && exportPDF) {\n    const buffer = await pdfHelper.componentToPDFBuffer(__jsx(PDFLayout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 7\n      }\n    }, __jsx(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 9\n      }\n    }))); // with this header, your browser will prompt you to download the file\n    // without this header, your browse will open the pdf directly\n\n    res.setHeader(\"Content-disposition\", 'attachment; filename=\"article.pdf'); // set content type\n\n    res.setHeader(\"Content-Type\", \"application/pdf\"); // output the pdf buffer. once res.end is triggered, it won't trigger the render method\n\n    res.end(buffer);\n  }\n\n  return {};\n});","map":{"version":3,"sources":["C:/Users/msdtt/OneDrive/Documents/amai_hr_next_js_hasura/amai-hr/pages/api/pdf.js"],"names":["React","Header","PDFLayout","pdfHelper","req","res","query","exportPDF","isServer","buffer","componentToPDFBuffer","setHeader","end"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,MAAP,MAAmB,6BAAnB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,SAAP,MAAsB,qBAAtB;AAEA,gBAAe,OAAO;AAAEC,EAAAA,GAAF;AAAOC,EAAAA,GAAP;AAAYC,EAAAA;AAAZ,CAAP,KAA+B;AAC5C,QAAMC,SAAS,GAAGD,KAAK,CAACC,SAAN,KAAoB,MAAtC;AACA,QAAMC,QAAQ,GAAG,CAAC,CAACJ,GAAnB;;AAEA,MAAII,QAAQ,IAAID,SAAhB,EAA2B;AACzB,UAAME,MAAM,GAAG,MAAMN,SAAS,CAACO,oBAAV,CACnB,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADmB,CAArB,CADyB,CAOzB;AACA;;AACAL,IAAAA,GAAG,CAACM,SAAJ,CAAc,qBAAd,EAAqC,mCAArC,EATyB,CAWzB;;AACAN,IAAAA,GAAG,CAACM,SAAJ,CAAc,cAAd,EAA8B,iBAA9B,EAZyB,CAczB;;AACAN,IAAAA,GAAG,CAACO,GAAJ,CAAQH,MAAR;AACD;;AAED,SAAO,EAAP;AACD,CAvBD","sourcesContent":["import React from \"react\";\r\n\r\nimport Header from \"../Components/Header/Header\";\r\nimport PDFLayout from \"../Components/PDFLayout\";\r\nimport pdfHelper from \"../../lib/pdfHelper\";\r\n\r\nexport default async ({ req, res, query }) => {\r\n  const exportPDF = query.exportPDF === \"true\";\r\n  const isServer = !!req;\r\n\r\n  if (isServer && exportPDF) {\r\n    const buffer = await pdfHelper.componentToPDFBuffer(\r\n      <PDFLayout>\r\n        <Header />\r\n      </PDFLayout>\r\n    );\r\n\r\n    // with this header, your browser will prompt you to download the file\r\n    // without this header, your browse will open the pdf directly\r\n    res.setHeader(\"Content-disposition\", 'attachment; filename=\"article.pdf');\r\n\r\n    // set content type\r\n    res.setHeader(\"Content-Type\", \"application/pdf\");\r\n\r\n    // output the pdf buffer. once res.end is triggered, it won't trigger the render method\r\n    res.end(buffer);\r\n  }\r\n\r\n  return {};\r\n};\r\n"]},"metadata":{},"sourceType":"module"}