{"ast":null,"code":"export default function (req, res) {\n  require(\"dotenv\").config();\n\n  let nodemailer = require(\"nodemailer\");\n\n  const transporter = nodemailer.createTransport({\n    port: 465,\n    host: \"smtp.gmail.com\",\n    auth: {\n      user: \"karatrd@gmail.com\",\n      pass: process.env.password\n    },\n    secure: true\n  });\n  const {\n    User\n  } = req.body;\n  const e = User.map(({\n    email\n  }) => {\n    return email;\n  });\n  console.log(e);\n  var maillist = e;\n  const mailData = {\n    from: \"karatrd@gmail.com\",\n    subject: \"Event\",\n    to: maillist,\n    text: \"message\",\n    html: `<b>\"New event has been added , please check your calendar! thank you!<b>`\n  };\n  transporter.sendMail(mailData, function (err, info) {\n    if (err) console.log(err);else console.log(info);\n  });\n  res.status(200);\n  window.location.reload();\n}","map":{"version":3,"sources":["C:/Users/msdtt/OneDrive/Documents/amai_hr_next_js_hasura/amai-hr/pages/api/contact.js"],"names":["req","res","require","config","nodemailer","transporter","createTransport","port","host","auth","user","pass","process","env","password","secure","User","body","e","map","email","console","log","maillist","mailData","from","subject","to","text","html","sendMail","err","info","status","window","location","reload"],"mappings":"AAAA,eAAe,UAAUA,GAAV,EAAeC,GAAf,EAAoB;AACjCC,EAAAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAEA,MAAIC,UAAU,GAAGF,OAAO,CAAC,YAAD,CAAxB;;AACA,QAAMG,WAAW,GAAGD,UAAU,CAACE,eAAX,CAA2B;AAC7CC,IAAAA,IAAI,EAAE,GADuC;AAE7CC,IAAAA,IAAI,EAAE,gBAFuC;AAG7CC,IAAAA,IAAI,EAAE;AACJC,MAAAA,IAAI,EAAE,mBADF;AAEJC,MAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC;AAFd,KAHuC;AAO7CC,IAAAA,MAAM,EAAE;AAPqC,GAA3B,CAApB;AASA,QAAM;AAAEC,IAAAA;AAAF,MAAWhB,GAAG,CAACiB,IAArB;AACA,QAAMC,CAAC,GAAGF,IAAI,CAACG,GAAL,CAAS,CAAC;AAAEC,IAAAA;AAAF,GAAD,KAAe;AAChC,WAAOA,KAAP;AACD,GAFS,CAAV;AAGAC,EAAAA,OAAO,CAACC,GAAR,CAAYJ,CAAZ;AACA,MAAIK,QAAQ,GAAGL,CAAf;AAEA,QAAMM,QAAQ,GAAG;AACfC,IAAAA,IAAI,EAAE,mBADS;AAEfC,IAAAA,OAAO,EAAE,OAFM;AAGfC,IAAAA,EAAE,EAAEJ,QAHW;AAIfK,IAAAA,IAAI,EAAE,SAJS;AAKfC,IAAAA,IAAI,EAAG;AALQ,GAAjB;AAOAxB,EAAAA,WAAW,CAACyB,QAAZ,CAAqBN,QAArB,EAA+B,UAAUO,GAAV,EAAeC,IAAf,EAAqB;AAClD,QAAID,GAAJ,EAASV,OAAO,CAACC,GAAR,CAAYS,GAAZ,EAAT,KACKV,OAAO,CAACC,GAAR,CAAYU,IAAZ;AACN,GAHD;AAIA/B,EAAAA,GAAG,CAACgC,MAAJ,CAAW,GAAX;AACAC,EAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACD","sourcesContent":["export default function (req, res) {\r\n  require(\"dotenv\").config();\r\n\r\n  let nodemailer = require(\"nodemailer\");\r\n  const transporter = nodemailer.createTransport({\r\n    port: 465,\r\n    host: \"smtp.gmail.com\",\r\n    auth: {\r\n      user: \"karatrd@gmail.com\",\r\n      pass: process.env.password,\r\n    },\r\n    secure: true,\r\n  });\r\n  const { User } = req.body;\r\n  const e = User.map(({ email }) => {\r\n    return email;\r\n  });\r\n  console.log(e);\r\n  var maillist = e;\r\n\r\n  const mailData = {\r\n    from: \"karatrd@gmail.com\",\r\n    subject: \"Event\",\r\n    to: maillist,\r\n    text: \"message\",\r\n    html: `<b>\"New event has been added , please check your calendar! thank you!<b>`,\r\n  };\r\n  transporter.sendMail(mailData, function (err, info) {\r\n    if (err) console.log(err);\r\n    else console.log(info);\r\n  });\r\n  res.status(200);\r\n  window.location.reload();\r\n}\r\n"]},"metadata":{},"sourceType":"module"}