{"ast":null,"code":"export default function (req, res) {\n  require(\"dotenv\").config();\n\n  let nodemailer = require(\"nodemailer\");\n\n  const transporter = nodemailer.createTransport({\n    port: 465,\n    host: \"smtp.gmail.com\",\n    auth: {\n      user: \"karatrd@gmail.com\",\n      pass: process.env.password\n    },\n    secure: true\n  });\n  const {\n    t,\n    subject,\n    message,\n    name\n  } = req.body;\n  console.log(t[0]); // var maillist =\n  //   \"medtrd14@gmail.com, mohamedseifeddine.trad@esprit.tn, msdt.trad@hotmail.com\";\n\n  const mailData = {\n    from: \"karatrd@gmail.com\",\n    to: t,\n    subject,\n    name,\n    text: message,\n    html: `<b>${message}<b>`\n  };\n  transporter.sendMail(mailData, function (err, info) {\n    if (err) console.log(err);else console.log(info);\n  });\n  res.status(200);\n}","map":{"version":3,"sources":["C:/Users/msdtt/OneDrive/Documents/amai_hr_next_js_hasura/amai-hr/pages/api/contact.js"],"names":["req","res","require","config","nodemailer","transporter","createTransport","port","host","auth","user","pass","process","env","password","secure","t","subject","message","name","body","console","log","mailData","from","to","text","html","sendMail","err","info","status"],"mappings":"AAAA,eAAe,UAAUA,GAAV,EAAeC,GAAf,EAAoB;AACjCC,EAAAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAEA,MAAIC,UAAU,GAAGF,OAAO,CAAC,YAAD,CAAxB;;AACA,QAAMG,WAAW,GAAGD,UAAU,CAACE,eAAX,CAA2B;AAC7CC,IAAAA,IAAI,EAAE,GADuC;AAE7CC,IAAAA,IAAI,EAAE,gBAFuC;AAG7CC,IAAAA,IAAI,EAAE;AACJC,MAAAA,IAAI,EAAE,mBADF;AAEJC,MAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC;AAFd,KAHuC;AAO7CC,IAAAA,MAAM,EAAE;AAPqC,GAA3B,CAApB;AASA,QAAM;AAAEC,IAAAA,CAAF;AAAKC,IAAAA,OAAL;AAAcC,IAAAA,OAAd;AAAuBC,IAAAA;AAAvB,MAAgCnB,GAAG,CAACoB,IAA1C;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYN,CAAC,CAAC,CAAD,CAAb,EAdiC,CAejC;AACA;;AAEA,QAAMO,QAAQ,GAAG;AACfC,IAAAA,IAAI,EAAE,mBADS;AAEfC,IAAAA,EAAE,EAAET,CAFW;AAGfC,IAAAA,OAHe;AAIfE,IAAAA,IAJe;AAKfO,IAAAA,IAAI,EAAER,OALS;AAMfS,IAAAA,IAAI,EAAG,MAAKT,OAAQ;AANL,GAAjB;AAQAb,EAAAA,WAAW,CAACuB,QAAZ,CAAqBL,QAArB,EAA+B,UAAUM,GAAV,EAAeC,IAAf,EAAqB;AAClD,QAAID,GAAJ,EAASR,OAAO,CAACC,GAAR,CAAYO,GAAZ,EAAT,KACKR,OAAO,CAACC,GAAR,CAAYQ,IAAZ;AACN,GAHD;AAIA7B,EAAAA,GAAG,CAAC8B,MAAJ,CAAW,GAAX;AACD","sourcesContent":["export default function (req, res) {\r\n  require(\"dotenv\").config();\r\n\r\n  let nodemailer = require(\"nodemailer\");\r\n  const transporter = nodemailer.createTransport({\r\n    port: 465,\r\n    host: \"smtp.gmail.com\",\r\n    auth: {\r\n      user: \"karatrd@gmail.com\",\r\n      pass: process.env.password,\r\n    },\r\n    secure: true,\r\n  });\r\n  const { t, subject, message, name } = req.body;\r\n  console.log(t[0]);\r\n  // var maillist =\r\n  //   \"medtrd14@gmail.com, mohamedseifeddine.trad@esprit.tn, msdt.trad@hotmail.com\";\r\n\r\n  const mailData = {\r\n    from: \"karatrd@gmail.com\",\r\n    to: t,\r\n    subject,\r\n    name,\r\n    text: message,\r\n    html: `<b>${message}<b>`,\r\n  };\r\n  transporter.sendMail(mailData, function (err, info) {\r\n    if (err) console.log(err);\r\n    else console.log(info);\r\n  });\r\n  res.status(200);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}