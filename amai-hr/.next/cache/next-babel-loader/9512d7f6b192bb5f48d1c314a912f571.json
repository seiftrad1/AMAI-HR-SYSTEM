{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4;\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport useSWR, { mutate } from \"swr\";\nimport formatRelative from \"date-fns/formatRelative\";\nimport differenceInMinutes from \"date-fns/differenceInMinutes\";\nimport Link from \"next/link\";\nimport Layout from \"../pages/Components/Layout\";\nimport gql from \"graphql-tag\";\nimport { useRouter } from \"next/router\";\nimport { hasuraUserClient } from \"../lib/hasura-user-client\";\nvar today = new Date();\nvar GetCandidats = gql(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  query MyQuery {\\n    Candidate {\\n      Email\\n      Last_Name\\n      Name\\n      domain\\n      id\\n      phone_number\\n      Status\\n    }\\n  }\\n\"])));\nexport var __N_SSG = true;\nexport default function MembersPage(_ref) {\n  var initialData = _ref.initialData;\n  var hasura = hasuraUserClient();\n  var router = useRouter();\n\n  var _useSWR = useSWR(GetCandidats, function (query) {\n    return hasura.request(query);\n  }, {\n    initialData: initialData,\n    revalidateOnMount: true\n  }),\n      data = _useSWR.data;\n\n  var deleteATodo = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(id) {\n      var query;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              query = gql(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n      mutation delete_Candidate($id: Int!) {\\n        delete_Candidate(where: { id: { _eq: $id } }) {\\n          affected_rows\\n        }\\n      }\\n    \"])));\n              _context.prev = 1;\n              _context.next = 4;\n              return hasura.request(query, {\n                id: id\n              });\n\n            case 4:\n              mutate();\n              window.location.reload();\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](1);\n              console.error(_context.t0);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 8]]);\n    }));\n\n    return function deleteATodo(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var updateStatus = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id) {\n      var SetStatus;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              SetStatus = gql(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n      mutation MyMutation($id: Int!) {\\n        update_Candidate_by_pk(pk_columns: { id: $id }, _set: { Status: 1 }) {\\n          id\\n          Status\\n        }\\n      }\\n    \"])));\n              _context2.prev = 1;\n              _context2.next = 4;\n              return hasura.request(SetStatus, {\n                id: id\n              });\n\n            case 4:\n              mutate();\n              window.location.reload();\n              _context2.next = 11;\n              break;\n\n            case 8:\n              _context2.prev = 8;\n              _context2.t0 = _context2[\"catch\"](1);\n              console.error(_context2.t0);\n\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[1, 8]]);\n    }));\n\n    return function updateStatus(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var DeclineCandidat = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id) {\n      var SetStatus;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              SetStatus = gql(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n      mutation MyMutation($id: Int!) {\\n        update_Candidate_by_pk(pk_columns: { id: $id }, _set: { Status: 0 }) {\\n          id\\n          Status\\n        }\\n      }\\n    \"])));\n              _context3.prev = 1;\n              _context3.next = 4;\n              return hasura.request(SetStatus, {\n                id: id\n              });\n\n            case 4:\n              mutate();\n              window.location.reload();\n              _context3.next = 11;\n              break;\n\n            case 8:\n              _context3.prev = 8;\n              _context3.t0 = _context3[\"catch\"](1);\n              console.error(_context3.t0);\n\n            case 11:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[1, 8]]);\n    }));\n\n    return function DeclineCandidat(_x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var Modify = /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(_ref5) {\n      var id;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              id = _ref5.id;\n              console.log(id);\n              router.push(\"/CandidatOne/\".concat(id));\n\n            case 3:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function Modify(_x4) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(Layout, null, __jsx(\"div\", {\n    className: \"page-content-wrapper\"\n  }, __jsx(\"div\", {\n    className: \"page-content\",\n    style: {\n      minHeight: 1500\n    }\n  }, __jsx(\"div\", {\n    \"class\": \"row\"\n  }, __jsx(\"div\", {\n    \"class\": \"col-md-12\"\n  }, __jsx(\"div\", {\n    \"class\": \"portlet light bordered\"\n  }, __jsx(\"div\", {\n    \"class\": \"portlet-title\"\n  }, __jsx(\"div\", {\n    \"class\": \"caption font-dark\"\n  }, __jsx(\"i\", {\n    \"class\": \"icon-settings font-dark\"\n  }), __jsx(\"span\", {\n    \"class\": \"caption-subject bold uppercase\"\n  }, \" \", \"Individual column searching (select inputs)\")), __jsx(\"div\", {\n    \"class\": \"actions\"\n  }, __jsx(\"div\", {\n    \"class\": \"btn-group btn-group-devided\",\n    \"data-toggle\": \"buttons\"\n  }, __jsx(\"label\", {\n    \"class\": \"btn btn-transparent dark btn-outline btn-circle btn-sm active\"\n  }, __jsx(\"input\", {\n    type: \"radio\",\n    name: \"options\",\n    \"class\": \"toggle\",\n    id: \"option1\"\n  }), \"Actions\"), __jsx(\"label\", {\n    \"class\": \"btn btn-transparent dark btn-outline btn-circle btn-sm\"\n  }, __jsx(\"input\", {\n    type: \"radio\",\n    name: \"options\",\n    \"class\": \"toggle\",\n    id: \"option2\"\n  }), \"Settings\")))), __jsx(\"div\", {\n    \"class\": \"portlet-body\"\n  }, __jsx(\"div\", {\n    \"class\": \"table-toolbar\"\n  }, __jsx(\"div\", {\n    \"class\": \"row\"\n  }, __jsx(\"div\", {\n    \"class\": \"col-md-6\"\n  }, __jsx(\"div\", {\n    \"class\": \"btn-group\"\n  }, __jsx(\"button\", {\n    id: \"sample_editable_1_2_new\",\n    \"class\": \"btn sbold green\"\n  }, \" \", \"Add New\", __jsx(\"i\", {\n    \"class\": \"fa fa-plus\"\n  })))), __jsx(\"div\", {\n    \"class\": \"col-md-6\"\n  }, __jsx(\"div\", {\n    \"class\": \"btn-group pull-right\"\n  }, __jsx(\"button\", {\n    \"class\": \"btn green  btn-outline dropdown-toggle\",\n    \"data-toggle\": \"dropdown\"\n  }, \"Tools\", __jsx(\"i\", {\n    \"class\": \"fa fa-angle-down\"\n  })), __jsx(\"ul\", {\n    \"class\": \"dropdown-menu pull-right\"\n  }, __jsx(\"li\", null, __jsx(\"a\", {\n    href: \"javascript:;\"\n  }, __jsx(\"i\", {\n    \"class\": \"fa fa-print\"\n  }), \" Print\", \" \")), __jsx(\"li\", null, __jsx(\"a\", {\n    href: \"javascript:;\"\n  }, __jsx(\"i\", {\n    \"class\": \"fa fa-file-pdf-o\"\n  }), \" Save as PDF\", \" \")), __jsx(\"li\", null, __jsx(\"a\", {\n    href: \"javascript:;\"\n  }, __jsx(\"i\", {\n    \"class\": \"fa fa-file-excel-o\"\n  }), \" Export to Excel\", \" \"))))))), __jsx(\"table\", {\n    \"class\": \"table table-striped table-bordered table-hover table-checkable order-column\",\n    id: \"sample_1_2\"\n  }, __jsx(\"thead\", null, __jsx(\"tr\", null, __jsx(\"th\", null, __jsx(\"label\", {\n    \"class\": \"mt-checkbox mt-checkbox-single mt-checkbox-outline\"\n  }, __jsx(\"input\", {\n    type: \"checkbox\",\n    \"class\": \"group-checkable\",\n    \"data-set\": \"#sample_1_2 .checkboxes\"\n  }), __jsx(\"span\", null))), __jsx(\"th\", null, \" Username \"), __jsx(\"th\", null, \" Email \"), __jsx(\"th\", null, \" Status \"), __jsx(\"th\", null, \" Joined \"), __jsx(\"th\", null, \" Actions \"))), __jsx(\"tfoot\", null, __jsx(\"tr\", null, __jsx(\"th\", null, \" \"), __jsx(\"th\", null, \" \"), __jsx(\"th\", null, \" \"), __jsx(\"th\", null, \" \"), __jsx(\"th\", null, \" \"), __jsx(\"th\", null, \" \"))), __jsx(\"tbody\", null, data.Candidate.map(function (_ref7) {\n    var Email = _ref7.Email,\n        Last_Name = _ref7.Last_Name,\n        Name = _ref7.Name,\n        domain = _ref7.domain,\n        id = _ref7.id,\n        phone_number = _ref7.phone_number,\n        Status = _ref7.Status;\n    return __jsx(\"tr\", {\n      key: id,\n      \"class\": \"odd gradeX\"\n    }, __jsx(\"td\", null, __jsx(\"label\", {\n      \"class\": \"mt-checkbox mt-checkbox-single mt-checkbox-outline\"\n    }, __jsx(\"input\", {\n      type: \"checkbox\",\n      \"class\": \"checkboxes\",\n      value: \"1\"\n    }), __jsx(\"span\", null))), __jsx(\"td\", null, Name), __jsx(\"td\", null, __jsx(\"a\", {\n      href: \"mailto:shuxer@gmail.com\"\n    }, \" \", Email)), __jsx(\"td\", null, Status === 1 ? __jsx(\"span\", {\n      \"class\": \"label label-sm label-success\"\n    }, \" \", \"Approved\", \" \") : __jsx(\"span\", {\n      \"class\": \"label label-sm label-success\"\n    }, \" \", \"OnHold\", \" \")), __jsx(\"td\", {\n      \"class\": \"center\"\n    }, \" 12 Jan 2012 \"), __jsx(\"td\", null, __jsx(\"div\", {\n      \"class\": \"btn-group\"\n    }, __jsx(\"button\", {\n      \"class\": \"btn btn-xs green dropdown-toggle\",\n      type: \"button\",\n      \"data-toggle\": \"dropdown\",\n      \"aria-expanded\": \"false\"\n    }, \" \", \"Actions\", __jsx(\"i\", {\n      \"class\": \"fa fa-angle-down\"\n    })), __jsx(\"ul\", {\n      \"class\": \"dropdown-menu pull-left\",\n      role: \"menu\"\n    }, __jsx(\"li\", null, __jsx(\"a\", {\n      href: \"javascript:;\"\n    }, __jsx(\"i\", {\n      \"class\": \"icon-docs\"\n    }), \" New Post\", \" \")), __jsx(\"li\", null, __jsx(\"a\", {\n      href: \"javascript:;\"\n    }, __jsx(\"i\", {\n      \"class\": \"icon-tag\"\n    }), \" New Comment\", \" \")), __jsx(\"li\", null, __jsx(\"a\", {\n      href: \"javascript:;\"\n    }, __jsx(\"i\", {\n      \"class\": \"icon-user\"\n    }), \" New User\", \" \")), __jsx(\"li\", {\n      \"class\": \"divider\"\n    }, \" \"), __jsx(\"li\", null, __jsx(\"a\", {\n      href: \"javascript:;\"\n    }, __jsx(\"i\", {\n      \"class\": \"icon-flag\"\n    }), \" Comments\", __jsx(\"span\", {\n      \"class\": \"badge badge-success\"\n    }, \"4\"))), __jsx(\"li\", null, __jsx(\"a\", {\n      className: \"closeBtn\",\n      onClick: function onClick() {\n        return deleteATodo(id);\n      }\n    }, \"Delete User\")), __jsx(\"li\", null, __jsx(\"a\", {\n      className: \"closeBtn\",\n      onClick: function onClick() {\n        return updateStatus(id);\n      }\n    }, \"Approve Candidat\")), \" \", __jsx(\"li\", null, __jsx(\"a\", {\n      className: \"closeBtn\",\n      onClick: function onClick() {\n        return DeclineCandidat(id);\n      }\n    }, \"Decline Candidat\")), \" \", __jsx(\"li\", null, __jsx(Link, {\n      href: \"/CandidatOne/\".concat(id)\n    }, __jsx(\"a\", null, \"Edit\")))))));\n  }))))))))));\n}","map":null,"metadata":{},"sourceType":"module"}