{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\msdtt\\\\OneDrive\\\\Documents\\\\amai_hr_next_js_hasura\\\\amai-hr\\\\pages\\\\api\\\\pdf.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Header from \"../Components/Header/Header\";\nexport default function ({\n  req,\n  res,\n  query\n}) {\n  const exportPDF = query.exportPDF === \"true\";\n  const isServer = !!req;\n\n  if (isServer && exportPDF) {\n    const buffer = async () => {\n      await pdfHelper.componentToPDFBuffer(__jsx(PDFLayout, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 10,\n          columnNumber: 9\n        }\n      }, __jsx(Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 11,\n          columnNumber: 11\n        }\n      })));\n    }; // with this header, your browser will prompt you to download the file\n    // without this header, your browse will open the pdf directly\n\n\n    res.setHeader(\"Content-disposition\", 'attachment; filename=\"article.pdf'); // set content type\n\n    res.setHeader(\"Content-Type\", \"application/pdf\"); // output the pdf buffer. once res.end is triggered, it won't trigger the render method\n\n    res.end(buffer);\n  }\n\n  return {};\n}","map":{"version":3,"sources":["C:/Users/msdtt/OneDrive/Documents/amai_hr_next_js_hasura/amai-hr/pages/api/pdf.js"],"names":["Header","req","res","query","exportPDF","isServer","buffer","pdfHelper","componentToPDFBuffer","setHeader","end"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,6BAAnB;AAEA,eAAe,UAAU;AAAEC,EAAAA,GAAF;AAAOC,EAAAA,GAAP;AAAYC,EAAAA;AAAZ,CAAV,EAA+B;AAC5C,QAAMC,SAAS,GAAGD,KAAK,CAACC,SAAN,KAAoB,MAAtC;AACA,QAAMC,QAAQ,GAAG,CAAC,CAACJ,GAAnB;;AAEA,MAAII,QAAQ,IAAID,SAAhB,EAA2B;AACzB,UAAME,MAAM,GAAG,YAAY;AACzB,YAAMC,SAAS,CAACC,oBAAV,CACJ,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADI,CAAN;AAKD,KAND,CADyB,CAQzB;AACA;;;AACAN,IAAAA,GAAG,CAACO,SAAJ,CAAc,qBAAd,EAAqC,mCAArC,EAVyB,CAYzB;;AACAP,IAAAA,GAAG,CAACO,SAAJ,CAAc,cAAd,EAA8B,iBAA9B,EAbyB,CAezB;;AACAP,IAAAA,GAAG,CAACQ,GAAJ,CAAQJ,MAAR;AACD;;AAED,SAAO,EAAP;AACD","sourcesContent":["import Header from \"../Components/Header/Header\";\r\n\r\nexport default function ({ req, res, query }) {\r\n  const exportPDF = query.exportPDF === \"true\";\r\n  const isServer = !!req;\r\n\r\n  if (isServer && exportPDF) {\r\n    const buffer = async () => {\r\n      await pdfHelper.componentToPDFBuffer(\r\n        <PDFLayout>\r\n          <Header />\r\n        </PDFLayout>\r\n      );\r\n    };\r\n    // with this header, your browser will prompt you to download the file\r\n    // without this header, your browse will open the pdf directly\r\n    res.setHeader(\"Content-disposition\", 'attachment; filename=\"article.pdf');\r\n\r\n    // set content type\r\n    res.setHeader(\"Content-Type\", \"application/pdf\");\r\n\r\n    // output the pdf buffer. once res.end is triggered, it won't trigger the render method\r\n    res.end(buffer);\r\n  }\r\n\r\n  return {};\r\n}\r\n"]},"metadata":{},"sourceType":"module"}