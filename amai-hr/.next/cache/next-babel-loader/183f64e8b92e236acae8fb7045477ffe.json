{"ast":null,"code":"export default function (req, res) {\n  require(\"dotenv\").config();\n\n  let nodemailer = require(\"nodemailer\");\n\n  const transporter = nodemailer.createTransport({\n    port: 465,\n    host: \"smtp.gmail.com\",\n    auth: {\n      user: \"karatrd@gmail.com\",\n      pass: process.env.password\n    },\n    secure: true\n  });\n  const name = req.body.Candidate_by_pk.Name;\n  const mailData = {\n    from: \"karatrd@gmail.com\",\n    to: req.body.Candidate_by_pk.Email,\n    subject: \"Welcome to team\",\n    html: `Hi  <b>${name}<b><br>,\n   Welcome to AMAI! We're excited that you're joining our team!<br>\n   You should have received an invitation to your AMAI Office 365 email account (cc'd here); please let me know if that is not the case.<br>\n   As soon as you followed the instructions in the mail, be sure to use http://outlook.office.com/ to check your mails and notify me in Microsoft Teams, that you are online.<br>\n   Everything you need to get started is listed in your onboarding issue: https://gitlab.com/am.ai/amai-general/general/-/issues/20. In order to view the issue, we will send an invitation to your AMAI email address to join the AMAI Gitlab group within the next 24 hours. Make sure that your GitLab.com profile includes your first and last name (e.g. first.lastname if this is taken please use first.lastname_amai) so email notifications arrive correctly.<br>\n   As soon as you created your GitLab.com profile and we assigned the issue to you, please be sure to complete all the \"Before Starting at AMAI\" tasks assigned to you (i.e., \"New Team Member\") in your onboarding issue. In particular, make sure you set up your LastPass account before logging into any other services or tools. This will save you a lot of time later!\n   Feel free to reach out to me if you have any questions or need help!<br>\n   Best,`\n  };\n  transporter.sendMail(mailData, function (err, info) {\n    if (err) console.log(err);else console.log(info);\n  });\n  res.status(200);\n}","map":{"version":3,"sources":["C:/Users/msdtt/OneDrive/Documents/amai_hr_next_js_hasura/amai-hr/pages/api/AcceptEmail.js"],"names":["req","res","require","config","nodemailer","transporter","createTransport","port","host","auth","user","pass","process","env","password","secure","name","body","Candidate_by_pk","Name","mailData","from","to","Email","subject","html","sendMail","err","info","console","log","status"],"mappings":"AAAA,eAAe,UAAUA,GAAV,EAAeC,GAAf,EAAoB;AACjCC,EAAAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAEA,MAAIC,UAAU,GAAGF,OAAO,CAAC,YAAD,CAAxB;;AACA,QAAMG,WAAW,GAAGD,UAAU,CAACE,eAAX,CAA2B;AAC7CC,IAAAA,IAAI,EAAE,GADuC;AAE7CC,IAAAA,IAAI,EAAE,gBAFuC;AAG7CC,IAAAA,IAAI,EAAE;AACJC,MAAAA,IAAI,EAAE,mBADF;AAEJC,MAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC;AAFd,KAHuC;AAO7CC,IAAAA,MAAM,EAAE;AAPqC,GAA3B,CAApB;AASA,QAAMC,IAAI,GAAGhB,GAAG,CAACiB,IAAJ,CAASC,eAAT,CAAyBC,IAAtC;AACA,QAAMC,QAAQ,GAAG;AACfC,IAAAA,IAAI,EAAE,mBADS;AAEfC,IAAAA,EAAE,EAAEtB,GAAG,CAACiB,IAAJ,CAASC,eAAT,CAAyBK,KAFd;AAGfC,IAAAA,OAAO,EAAE,iBAHM;AAIfC,IAAAA,IAAI,EAAG,UAAST,IAAK;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AAXmB,GAAjB;AAaAX,EAAAA,WAAW,CAACqB,QAAZ,CAAqBN,QAArB,EAA+B,UAAUO,GAAV,EAAeC,IAAf,EAAqB;AAClD,QAAID,GAAJ,EAASE,OAAO,CAACC,GAAR,CAAYH,GAAZ,EAAT,KACKE,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACN,GAHD;AAIA3B,EAAAA,GAAG,CAAC8B,MAAJ,CAAW,GAAX;AACD","sourcesContent":["export default function (req, res) {\r\n  require(\"dotenv\").config();\r\n\r\n  let nodemailer = require(\"nodemailer\");\r\n  const transporter = nodemailer.createTransport({\r\n    port: 465,\r\n    host: \"smtp.gmail.com\",\r\n    auth: {\r\n      user: \"karatrd@gmail.com\",\r\n      pass: process.env.password,\r\n    },\r\n    secure: true,\r\n  });\r\n  const name = req.body.Candidate_by_pk.Name;\r\n  const mailData = {\r\n    from: \"karatrd@gmail.com\",\r\n    to: req.body.Candidate_by_pk.Email,\r\n    subject: \"Welcome to team\",\r\n    html: `Hi  <b>${name}<b><br>,\r\n   Welcome to AMAI! We're excited that you're joining our team!<br>\r\n   You should have received an invitation to your AMAI Office 365 email account (cc'd here); please let me know if that is not the case.<br>\r\n   As soon as you followed the instructions in the mail, be sure to use http://outlook.office.com/ to check your mails and notify me in Microsoft Teams, that you are online.<br>\r\n   Everything you need to get started is listed in your onboarding issue: https://gitlab.com/am.ai/amai-general/general/-/issues/20. In order to view the issue, we will send an invitation to your AMAI email address to join the AMAI Gitlab group within the next 24 hours. Make sure that your GitLab.com profile includes your first and last name (e.g. first.lastname if this is taken please use first.lastname_amai) so email notifications arrive correctly.<br>\r\n   As soon as you created your GitLab.com profile and we assigned the issue to you, please be sure to complete all the \"Before Starting at AMAI\" tasks assigned to you (i.e., \"New Team Member\") in your onboarding issue. In particular, make sure you set up your LastPass account before logging into any other services or tools. This will save you a lot of time later!\r\n   Feel free to reach out to me if you have any questions or need help!<br>\r\n   Best,`,\r\n  };\r\n  transporter.sendMail(mailData, function (err, info) {\r\n    if (err) console.log(err);\r\n    else console.log(info);\r\n  });\r\n  res.status(200);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}