{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\msdtt\\\\OneDrive\\\\Documents\\\\amai_hr_next_js_hasura\\\\amai-hr\\\\pages\\\\login.js\";\nvar __jsx = React.createElement;\nimport { useEffect } from \"react\";\nimport { useRouter } from \"next/router\";\nimport { useForm } from \"react-hook-form\";\nimport React from \"react\";\nimport { useAuthState, useAuthDispatch } from \"../context/auth\";\nimport Layoutlogin from \"./Components/layoutlogin\";\nexport default function RegisterPage() {\n  const router = useRouter();\n  const {\n    isAuthenticated\n  } = useAuthState();\n  const {\n    login\n  } = useAuthDispatch();\n  const {\n    handleSubmit,\n    register,\n    errors,\n    formState: {\n      isSubmitting\n    },\n    setError\n  } = useForm({\n    defaultValues: {\n      save_last_seen: true\n    }\n  });\n  useEffect(() => {\n    if (isAuthenticated) {\n      router.push(\"/\");\n    }\n  }, [isAuthenticated]);\n  if (isAuthenticated) return null;\n\n  const onSubmit = async ({\n    email,\n    password,\n    save_last_seen\n  }) => {\n    try {\n      await login({\n        email,\n        password,\n        save_last_seen\n      });\n      router.push(\"/\");\n    } catch ({\n      message\n    }) {\n      setError(\"email\", {\n        type: \"manual\",\n        message\n      });\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: \"page-content-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"page-content\",\n    style: {\n      minHeight: 1500\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["C:/Users/msdtt/OneDrive/Documents/amai_hr_next_js_hasura/amai-hr/pages/login.js"],"names":["useEffect","useRouter","useForm","React","useAuthState","useAuthDispatch","Layoutlogin","RegisterPage","router","isAuthenticated","login","handleSubmit","register","errors","formState","isSubmitting","setError","defaultValues","save_last_seen","push","onSubmit","email","password","message","type","minHeight"],"mappings":";;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,EAAuBC,eAAvB,QAA8C,iBAA9C;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AAEA,eAAe,SAASC,YAAT,GAAwB;AACrC,QAAMC,MAAM,GAAGP,SAAS,EAAxB;AACA,QAAM;AAAEQ,IAAAA;AAAF,MAAsBL,YAAY,EAAxC;AACA,QAAM;AAAEM,IAAAA;AAAF,MAAYL,eAAe,EAAjC;AACA,QAAM;AACJM,IAAAA,YADI;AAEJC,IAAAA,QAFI;AAGJC,IAAAA,MAHI;AAIJC,IAAAA,SAAS,EAAE;AAAEC,MAAAA;AAAF,KAJP;AAKJC,IAAAA;AALI,MAMFd,OAAO,CAAC;AAAEe,IAAAA,aAAa,EAAE;AAAEC,MAAAA,cAAc,EAAE;AAAlB;AAAjB,GAAD,CANX;AAQAlB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIS,eAAJ,EAAqB;AACnBD,MAAAA,MAAM,CAACW,IAAP,CAAY,GAAZ;AACD;AACF,GAJQ,EAIN,CAACV,eAAD,CAJM,CAAT;AAMA,MAAIA,eAAJ,EAAqB,OAAO,IAAP;;AAErB,QAAMW,QAAQ,GAAG,OAAO;AAAEC,IAAAA,KAAF;AAASC,IAAAA,QAAT;AAAmBJ,IAAAA;AAAnB,GAAP,KAA+C;AAC9D,QAAI;AACF,YAAMR,KAAK,CAAC;AAAEW,QAAAA,KAAF;AAASC,QAAAA,QAAT;AAAmBJ,QAAAA;AAAnB,OAAD,CAAX;AAEAV,MAAAA,MAAM,CAACW,IAAP,CAAY,GAAZ;AACD,KAJD,CAIE,OAAO;AAAEI,MAAAA;AAAF,KAAP,EAAoB;AACpBP,MAAAA,QAAQ,CAAC,OAAD,EAAU;AAChBQ,QAAAA,IAAI,EAAE,QADU;AAEhBD,QAAAA;AAFgB,OAAV,CAAR;AAID;AACF,GAXD;;AAaA,SACE;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAA8B,IAAA,KAAK,EAAE;AAAEE,MAAAA,SAAS,EAAE;AAAb,KAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF;AAKD","sourcesContent":["import { useEffect } from \"react\";\r\nimport { useRouter } from \"next/router\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport React from \"react\";\r\nimport { useAuthState, useAuthDispatch } from \"../context/auth\";\r\nimport Layoutlogin from \"./Components/layoutlogin\";\r\n\r\nexport default function RegisterPage() {\r\n  const router = useRouter();\r\n  const { isAuthenticated } = useAuthState();\r\n  const { login } = useAuthDispatch();\r\n  const {\r\n    handleSubmit,\r\n    register,\r\n    errors,\r\n    formState: { isSubmitting },\r\n    setError,\r\n  } = useForm({ defaultValues: { save_last_seen: true } });\r\n\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      router.push(\"/\");\r\n    }\r\n  }, [isAuthenticated]);\r\n\r\n  if (isAuthenticated) return null;\r\n\r\n  const onSubmit = async ({ email, password, save_last_seen }) => {\r\n    try {\r\n      await login({ email, password, save_last_seen });\r\n\r\n      router.push(\"/\");\r\n    } catch ({ message }) {\r\n      setError(\"email\", {\r\n        type: \"manual\",\r\n        message,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"page-content-wrapper\">\r\n      <div className=\"page-content\" style={{ minHeight: 1500 }}></div>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}