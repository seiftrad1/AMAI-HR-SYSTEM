{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\msdtt\\\\OneDrive\\\\Documents\\\\amai_hr_next_js_hasura\\\\amai-hr\\\\pages\\\\login.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect } from \"react\";\nimport { useRouter } from \"next/router\";\nimport { useForm } from \"react-hook-form\";\nimport { useAuthState, useAuthDispatch } from \"../context/auth\";\nimport Layout2 from \"../pages/Components/Layout2\";\nexport default function RegisterPage() {\n  const router = useRouter();\n  const {\n    isAuthenticated\n  } = useAuthState();\n  const {\n    login\n  } = useAuthDispatch();\n  const {\n    handleSubmit,\n    register,\n    errors,\n    formState: {\n      isSubmitting\n    },\n    setError\n  } = useForm({\n    defaultValues: {\n      save_last_seen: true\n    }\n  });\n  useEffect(() => {\n    if (isAuthenticated) {\n      router.push(\"/\");\n    }\n  }, [isAuthenticated]);\n  if (isAuthenticated) return null;\n\n  const onSubmit = async ({\n    email,\n    password,\n    save_last_seen\n  }) => {\n    try {\n      await login({\n        email,\n        password,\n        save_last_seen\n      });\n      router.push(\"/\");\n    } catch ({\n      message\n    }) {\n      setError(\"email\", {\n        type: \"manual\",\n        message\n      });\n    }\n  };\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    class: \" login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    class: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, __jsx(\"a\", {\n    href: \"index.html\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, __jsx(\"img\", {\n    src: \"../assets/pages/img/logo-big-white.png\",\n    style: {\n      height: 17\n    },\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }), \" \")), __jsx(\"div\", {\n    class: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    class: \"form-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, __jsx(\"span\", {\n    class: \"form-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, \"Welcome.\"), __jsx(\"span\", {\n    class: \"form-subtitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, \"Please login.\")), __jsx(\"div\", {\n    class: \"alert alert-danger display-hide\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, __jsx(\"button\", {\n    class: \"close\",\n    \"data-close\": \"alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }), __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, \" Enter any username and password. \")), __jsx(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    class: \"login-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    class: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, __jsx(\"input\", {\n    class: \"form-control form-control-solid placeholder-no-fix\",\n    type: \"email\",\n    name: \"email\",\n    id: \"email\",\n    ref: register({\n      value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n      required: \"You must provide a email.\"\n    }),\n    placeholder: \"Your email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }\n  }), errors.email && __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 32\n    }\n  }, errors.email.message)), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, __jsx(\"label\", {\n    class: \"control-label visible-ie8 visible-ie9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }\n  }, \"Password\"), __jsx(\"input\", {\n    class: \"form-control placeholder-no-fix\",\n    type: \"password\",\n    name: \"password\",\n    id: \"password\",\n    ref: register({\n      required: \"You must provide a password.\"\n    }),\n    placeholder: \"Enter your password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }), errors.password && __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 35\n    }\n  }, errors.password.message)), __jsx(\"div\", {\n    class: \"pull-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, \" \", __jsx(\"label\", {\n    htmlFor: \"save_last_seen\",\n    class: \"rememberme mt-checkbox mt-checkbox-outline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 15\n    }\n  }, __jsx(\"input\", {\n    type: \"checkbox\",\n    id: \"save_last_seen\",\n    name: \"save_last_seen\",\n    ref: register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }), \"Show as online to other users \", __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 47\n    }\n  }))), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, __jsx(\"button\", {\n    class: \"btn red btn-block uppercase\",\n    type: \"submit\",\n    disabled: isSubmitting,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 15\n    }\n  }, \"Login\"))))));\n}","map":{"version":3,"sources":["C:/Users/msdtt/OneDrive/Documents/amai_hr_next_js_hasura/amai-hr/pages/login.js"],"names":["useEffect","useRouter","useForm","useAuthState","useAuthDispatch","Layout2","RegisterPage","router","isAuthenticated","login","handleSubmit","register","errors","formState","isSubmitting","setError","defaultValues","save_last_seen","push","onSubmit","email","password","message","type","height","value","required"],"mappings":"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","sourcesContent":["import { useEffect } from \"react\";\r\nimport { useRouter } from \"next/router\";\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nimport { useAuthState, useAuthDispatch } from \"../context/auth\";\r\n\r\nimport Layout2 from \"../pages/Components/Layout2\";\r\n\r\nexport default function RegisterPage() {\r\n  const router = useRouter();\r\n  const { isAuthenticated } = useAuthState();\r\n  const { login } = useAuthDispatch();\r\n  const {\r\n    handleSubmit,\r\n    register,\r\n    errors,\r\n    formState: { isSubmitting },\r\n    setError,\r\n  } = useForm({ defaultValues: { save_last_seen: true } });\r\n\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      router.push(\"/\");\r\n    }\r\n  }, [isAuthenticated]);\r\n\r\n  if (isAuthenticated) return null;\r\n\r\n  const onSubmit = async ({ email, password, save_last_seen }) => {\r\n    try {\r\n      await login({ email, password, save_last_seen });\r\n\r\n      router.push(\"/\");\r\n    } catch ({ message }) {\r\n      setError(\"email\", {\r\n        type: \"manual\",\r\n        message,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div class=\" login\">\r\n        <div class=\"logo\">\r\n          <a href=\"index.html\">\r\n            <img\r\n              src=\"../assets/pages/img/logo-big-white.png\"\r\n              style={{ height: 17 }}\r\n              alt=\"\"\r\n            />{\" \"}\r\n          </a>\r\n        </div>\r\n        <div class=\"content\">\r\n          <div class=\"form-title\">\r\n            <span class=\"form-title\">Welcome.</span>\r\n            <span class=\"form-subtitle\">Please login.</span>\r\n          </div>\r\n          <div class=\"alert alert-danger display-hide\">\r\n            <button class=\"close\" data-close=\"alert\"></button>\r\n            <span> Enter any username and password. </span>\r\n          </div>\r\n          <form onSubmit={handleSubmit(onSubmit)} class=\"login-form\">\r\n            <div class=\"form-group\">\r\n              <input\r\n                class=\"form-control form-control-solid placeholder-no-fix\"\r\n                type=\"email\"\r\n                name=\"email\"\r\n                id=\"email\"\r\n                ref={register({\r\n                  value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\r\n                  required: \"You must provide a email.\",\r\n                })}\r\n                placeholder=\"Your email\"\r\n              />\r\n              {errors.email && <span>{errors.email.message}</span>}\r\n            </div>\r\n            <div>\r\n              <label class=\"control-label visible-ie8 visible-ie9\">\r\n                Password\r\n              </label>\r\n              <input\r\n                class=\"form-control placeholder-no-fix\"\r\n                type=\"password\"\r\n                name=\"password\"\r\n                id=\"password\"\r\n                ref={register({\r\n                  required: \"You must provide a password.\",\r\n                })}\r\n                placeholder=\"Enter your password\"\r\n              />\r\n              {errors.password && <span>{errors.password.message}</span>}\r\n            </div>\r\n            <div class=\"pull-left\">\r\n              {\" \"}\r\n              <label\r\n                htmlFor=\"save_last_seen\"\r\n                class=\"rememberme mt-checkbox mt-checkbox-outline\"\r\n              >\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id=\"save_last_seen\"\r\n                  name=\"save_last_seen\"\r\n                  ref={register}\r\n                />\r\n                Show as online to other users <span></span>\r\n              </label>\r\n            </div>\r\n            <div>\r\n              <button\r\n                class=\"btn red btn-block uppercase\"\r\n                type=\"submit\"\r\n                disabled={isSubmitting}\r\n              >\r\n                Login\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}