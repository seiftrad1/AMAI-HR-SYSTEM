{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[4],{\"094J\":function(e,t,r){\"use strict\";(function(e){var n=r(\"q1tI\"),c=r(\"puqk\"),s={},i=function(e,t,r){return s[e]||(s[e]={callbacks:[],value:r}),s[e].callbacks.push(t),{deregister:function(){var r=s[e].callbacks,n=r.indexOf(t);n>-1&&r.splice(n,1)},emit:function(r){s[e].value!==r&&(s[e].value=r,s[e].callbacks.forEach((function(e){t!==e&&e(r)})))}}};t.a=function(t,r){if(void 0===r&&(r=e.localStorage),r){var s=(u=r,{get:function(e,t){var r=u.getItem(e);return null===r?\"function\"==typeof t?t():t:JSON.parse(r)},set:function(e,t){u.setItem(e,JSON.stringify(t))}});return function(e){return function(e,t,r){var s=r.get,u=r.set,a=Object(n.useRef)(null),o=Object(n.useState)((function(){return s(t,e)})),l=o[0],f=o[1];return Object(c.a)(\"storage\",(function(e){var r=e.key,n=JSON.parse(e.newValue);r===t&&l!==n&&f(n)})),Object(n.useEffect)((function(){return a.current=i(t,f,e),function(){a.current.deregister()}}),[]),Object(n.useEffect)((function(){u(t,l),a.current.emit(l)}),[l]),[l,f]}(e,t,s)}}var u;return n.useState}}).call(this,r(\"yLpj\"))},\"4e9g\":function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return m})),r.d(t,\"b\",(function(){return w})),r.d(t,\"c\",(function(){return S}));var n=r(\"o0o1\"),c=r.n(n);function s(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}var i=r(\"HaE+\");var u=r(\"BsWD\");function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(\"undefined\"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,c=!1,s=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(a){c=!0,s=a}finally{try{n||null==u.return||u.return()}finally{if(c)throw s}}return r}}(e,t)||Object(u.a)(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}var o=r(\"rePB\"),l=r(\"q1tI\"),f=r.n(l),d=r(\"094J\"),b=f.a.createElement;function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){Object(o.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j=Object(l.createContext)(),g=Object(l.createContext)(),p=Object(d.a)(\"jamstackforum-auth\"),y={isAuthenticated:!1,user:null,token:null,save_last_seen:!1};function h(e,t){var r=t.payload,n=t.type;switch(n){case\"LOGIN_SUCCESS\":return v(v(v({},e),r),{},{isAuthenticated:!0});case\"UPDATE_USER\":return v(v({},e),{},{user:v(v({},e.user),r)});case\"LOGOUT\":return y;default:throw new Error(\"Unhandled action type \".concat(n))}}function m(e){var t=e.children,r=a(p(y),2),n=r[0],u=r[1],o=Object(l.useReducer)(h,n),f=o[0],d=o[1];Object(l.useEffect)((function(){u(f)}),[f,u]);var O=function(){var e=Object(i.a)(c.a.mark((function e(t){var r,n,i,u,a,o,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,n=t.password,i=t.save_last_seen,e.next=3,fetch(\"/api/login\",{method:\"POST\",body:JSON.stringify({email:r,password:n}),headers:{\"Content-Type\":\"application/json\"}});case 3:return u=e.sent,e.next=6,u.json();case 6:if(a=e.sent,u.ok){e.next=9;break}throw new Error(null===a||void 0===a?void 0:a.message);case 9:o=a.token,l=s(a,[\"token\"]),d({type:\"LOGIN_SUCCESS\",payload:{token:o,user:l,save_last_seen:i}});case 11:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(i.a)(c.a.mark((function e(t){var r,n,i,u,a,o,l,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,n=t.email,i=t.password,u=t.save_last_seen,e.next=3,fetch(\"/api/register\",{method:\"POST\",body:JSON.stringify({name:r,email:n,password:i}),headers:{\"Content-Type\":\"application/json\"}});case 3:return a=e.sent,e.next=6,a.json();case 6:if(o=e.sent,a.ok){e.next=9;break}throw new Error(null===o||void 0===o?void 0:o.message);case 9:l=o.token,f=s(o,[\"token\"]),d({type:\"LOGIN_SUCCESS\",payload:{token:l,user:f,save_last_seen:u}});case 11:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return b(j.Provider,{value:{login:O,register:v,updateUser:function(e){return d({type:\"UPDATE_USER\",payload:e})},logout:function(){return d({type:\"LOGOUT\"})}}},b(g.Provider,{value:f},t))}function w(){var e=Object(l.useContext)(j);if(void 0===e)throw new Error(\"useAuthDispatch must be used within an AuthProvider\");return e}function S(){var e=Object(l.useContext)(g);if(void 0===e)throw new Error(\"useAuthState must be used within an AuthProvider\");return e}},BsWD:function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return c}));var n=r(\"a3WO\");function c(e,t){if(e){if(\"string\"===typeof e)return Object(n.a)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===r&&e.constructor&&(r=e.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(e):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n.a)(e,t):void 0}}},\"HaE+\":function(e,t,r){\"use strict\";function n(e,t,r,n,c,s,i){try{var u=e[s](i),a=u.value}catch(o){return void r(o)}u.done?t(a):Promise.resolve(a).then(n,c)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(c,s){var i=e.apply(t,r);function u(e){n(i,c,s,u,a,\"next\",e)}function a(e){n(i,c,s,u,a,\"throw\",e)}u(void 0)}))}}r.d(t,\"a\",(function(){return c}))},NKCw:function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return ve}));var n=r(\"q1tI\"),c=e=>e instanceof HTMLElement;const s=\"blur\",i=\"change\",u=\"input\",a=\"onBlur\",o=\"onChange\",l=\"onSubmit\",f=\"onTouched\",d=\"all\",b=\"max\",O=\"min\",v=\"maxLength\",j=\"minLength\",g=\"pattern\",p=\"required\",y=\"validate\";var h=e=>null==e,m=e=>Array.isArray(e);const w=e=>\"object\"===typeof e;var S=e=>!h(e)&&!m(e)&&w(e)&&!(e instanceof Date),k=e=>!m(e)&&(/^\\w*$/.test(e)||!/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/.test(e)),E=e=>{const t=[];return e.replace(/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,(e,r,n,c)=>{t.push(n?c.replace(/\\\\(\\\\)?/g,\"$1\"):r||e)}),t};function R(e,t,r){let n=-1;const c=k(t)?[t]:E(t),s=c.length,i=s-1;for(;++n<s;){const t=c[n];let s=r;if(n!==i){const r=e[t];s=S(r)||m(r)?r:isNaN(+c[n+1])?{}:[]}e[t]=s,e=e[t]}return e}var C=e=>Object.entries(e).reduce((e,[t,r])=>k(t)?Object.assign(Object.assign({},e),{[t]:r}):(R(e,t,r),e),{}),V=e=>void 0===e,F=e=>e.filter(Boolean),x=(e,t,r)=>{const n=F(t.split(/[,[\\].]+?/)).reduce((e,t)=>h(e)?e:e[t],e);return V(n)||n===e?V(e[t])?r:e[t]:n},D=(e,t)=>{c(e)&&e.removeEventListener&&(e.removeEventListener(u,t),e.removeEventListener(i,t),e.removeEventListener(s,t))};const P={isValid:!1,value:\"\"};var L=e=>m(e)?e.reduce((e,t)=>t&&t.ref.checked?{isValid:!0,value:t.ref.value}:e,P):P,A=e=>\"radio\"===e.type,N=e=>\"file\"===e.type,T=e=>\"checkbox\"===e.type,_=e=>\"select-multiple\"===e.type;const B={value:!1,isValid:!1},I={value:!0,isValid:!0};var U=e=>{if(m(e)){if(e.length>1){const t=e.filter(e=>e&&e.ref.checked).map(({ref:{value:e}})=>e);return{value:t,isValid:!!t.length}}const{checked:t,value:r,attributes:n}=e[0].ref;return t?n&&!V(n.value)?V(r)||\"\"===r?I:{value:r,isValid:!0}:I:B}return B};function W(e,t,r,n){const c=e.current[t];if(c){const{ref:{value:e,disabled:t},ref:r}=c;if(t&&n)return;return N(r)?r.files:A(r)?L(c.options).value:_(r)?(s=r.options,[...s].filter(({selected:e})=>e).map(({value:e})=>e)):T(r)?U(c.options).value:e}var s;if(r)return x(r.current,t)}function $(e){return!e||e instanceof HTMLElement&&e.nodeType!==Node.DOCUMENT_NODE&&$(e.parentNode)}var J=e=>S(e)&&!Object.keys(e).length,M=e=>\"boolean\"===typeof e;function q(e,t){const r=k(t)?[t]:E(t),n=1==r.length?e:function(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=V(e)?n++:e[t[n++]];return e}(e,r),c=r[r.length-1];let s=void 0;n&&delete n[c];for(let i=0;i<r.slice(0,-1).length;i++){let t=-1,n=void 0;const c=r.slice(0,-(i+1)),u=c.length-1;for(i>0&&(s=e);++t<c.length;){const r=c[t];n=n?n[r]:e[r],u===t&&(S(n)&&J(n)||m(n)&&!n.filter(e=>S(e)&&!J(e)||M(e)).length)&&(s?delete s[r]:delete e[r]),s=n}}return e}const H=(e,t)=>e&&e.ref===t;var G=e=>\"string\"===typeof e,z=e=>h(e)||!w(e);var K=(e,t,r,n)=>{const c={};for(const s in e.current)(V(n)||(G(n)?s.startsWith(n):m(n)&&n.find(e=>s.startsWith(e))))&&(c[s]=W(e,s,void 0,r));return function e(t,r){if(z(t)||z(r))return r;for(const c in r){const s=t[c],i=r[c];try{S(s)&&S(i)||m(s)&&m(i)?t[c]=e(s,i):t[c]=i}catch(n){}}return t}(Object.assign({},(t||{}).current||{}),C(c))};function Q(e=[],t=[],r){const n=Object.keys(e),c=Object.keys(t);if(n.length!==c.length)return!1;for(const s of n)if(!r||![\"ref\",\"context\"].includes(s)){const n=e[s],c=t[s];if((S(n)||m(n))&&(S(c)||m(c))?!Q(n,c,r):n!==c)return!1}return!0}var X=e=>e instanceof RegExp;var Y=e=>{return S(t=e)&&!X(t)?e:{value:e,message:\"\"};var t},Z=e=>\"function\"===typeof e,ee=e=>G(e)||S(e)&&Object(n.isValidElement)(e);function te(e,t,r=\"validate\"){if(ee(e)||M(e)&&!e)return{type:r,message:ee(e)?e:\"\",ref:t}}var re=(e,t,r,n,c)=>{if(t){const t=r[e];return Object.assign(Object.assign({},t),{types:Object.assign(Object.assign({},t&&t.types?t.types:{}),{[n]:c||!0})})}return{}},ne=async(e,t,{ref:r,ref:{type:n,value:c},options:s,required:i,maxLength:u,minLength:a,min:o,max:l,pattern:f,validate:d},m)=>{const w=e.current,k=r.name,E={},R=A(r),C=T(r),V=R||C,F=\"\"===c,x=re.bind(null,k,t,E),D=(e,t,n,c=v,s=j)=>{const i=e?t:n;E[k]=Object.assign({type:e?c:s,message:i,ref:r},x(e?c:s,i))};if(i&&(!R&&!C&&(F||h(c))||M(c)&&!c||C&&!U(s).isValid||R&&!L(s).isValid)){const{value:e,message:n}=ee(i)?{value:!!i,message:i}:Y(i);if(e&&(E[k]=Object.assign({type:p,message:n,ref:V?((w[k].options||[])[0]||{}).ref:r},x(p,n)),!t))return E}if(!h(o)||!h(l)){let e,s;const{value:i,message:u}=Y(l),{value:a,message:f}=Y(o);if(\"number\"===n||!n&&!isNaN(c)){const t=r.valueAsNumber||parseFloat(c);h(i)||(e=t>i),h(a)||(s=t<a)}else{const t=r.valueAsDate||new Date(c);G(i)&&(e=t>new Date(i)),G(a)&&(s=t<new Date(a))}if((e||s)&&(D(!!e,u,f,b,O),!t))return E}if(G(c)&&!F&&(u||a)){const{value:e,message:r}=Y(u),{value:n,message:s}=Y(a),i=c.toString().length,o=!h(e)&&i>e,l=!h(n)&&i<n;if((o||l)&&(D(!!o,r,s),!t))return E}if(f&&!F){const{value:e,message:n}=Y(f);if(X(e)&&!e.test(c)&&(E[k]=Object.assign({type:g,message:n,ref:r},x(g,n)),!t))return E}if(d){const n=W(e,k,m),c=V&&s?s[0].ref:r;if(Z(d)){const e=te(await d(n),c);if(e&&(E[k]=Object.assign(Object.assign({},e),x(y,e.message)),!t))return E}else if(S(d)){let e={};for(const[r,s]of Object.entries(d)){if(!J(e)&&!t)break;const i=te(await s(n),c,r);i&&(e=Object.assign(Object.assign({},i),x(r,i.message)),t&&(E[k]=e))}if(!J(e)&&(E[k]=Object.assign({ref:c},e),!t))return E}}return E};const ce=(e,t)=>Object.entries(t).map(([r,n])=>((t,r,n)=>{const c=n?`${e}.${t}`:`${e}[${t}]`;return z(r)?c:ce(c,r)})(r,n,S(t))).flat(1/0);var se=(e,t,r,n,c)=>{let s;return r.add(t),J(e)?s=void 0:(s=x(e,t),(S(s)||m(s))&&ce(t,s).forEach(e=>r.add(e))),V(s)?c?n:x(n,t):s},ie=({isOnBlur:e,isOnChange:t,isOnTouch:r,isTouched:n,isReValidateOnBlur:c,isReValidateOnChange:s,isBlurEvent:i,isSubmitted:u,isOnAll:a})=>!a&&(!u&&r?!(n||i):(u?c:e)?!i:!(u?s:t)||i),ue=e=>e.substring(0,e.indexOf(\"[\"));const ae=(e,t)=>RegExp(`^${t}[\\\\d+]`.replace(/\\[/g,\"\\\\[\").replace(/\\]/g,\"\\\\]\")).test(e);var oe=(e,t)=>[...e].some(e=>ae(t,e));var le=e=>({isOnSubmit:!e||e===l,isOnBlur:e===a,isOnChange:e===o,isOnAll:e===d,isOnTouch:e===f}),fe=e=>A(e)||T(e);const de=\"undefined\"===typeof window,be=\"undefined\"!==typeof document&&!de&&!V(window.HTMLElement),Oe=be?\"Proxy\"in window:\"undefined\"!==typeof Proxy;function ve({mode:e=l,reValidateMode:t=o,resolver:r,context:a,defaultValues:f={},shouldFocusError:b=!0,shouldUnregister:O=!0,criteriaMode:v}={}){const j=Object(n.useRef)({}),g=Object(n.useRef)({}),p=Object(n.useRef)(new Set),y=Object(n.useRef)({}),w=Object(n.useRef)({}),E=Object(n.useRef)({}),P=Object(n.useRef)({}),L=Object(n.useRef)(f),B=Object(n.useRef)({}),I=Object(n.useRef)(!1),U=Object(n.useRef)(!1),M=Object(n.useRef)(),X=Object(n.useRef)(O?{}:Object.assign({},f)),Y=Object(n.useRef)({}),ee=Object(n.useRef)(a),te=Object(n.useRef)(r),re=Object(n.useRef)(new Set),ae=Object(n.useRef)(le(e)),{isOnSubmit:ve,isOnTouch:je}=ae.current,ge=v===d,[pe,ye]=Object(n.useState)({isDirty:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touched:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!ve,errors:{}}),he=Object(n.useRef)({isDirty:!Oe,dirtyFields:!Oe,touched:!Oe||je,isSubmitting:!Oe,isValid:!Oe}),me=Object(n.useRef)(pe),we=Object(n.useRef)(),{isOnBlur:Se,isOnChange:ke}=Object(n.useRef)(le(t)).current;ee.current=a,te.current=r,me.current=pe;const Ee=Object(n.useCallback)((e={})=>!I.current&&ye(Object.assign(Object.assign({},me.current),e)),[]),Re=Object(n.useCallback)((e,t,r=!1,n={},c)=>{let s=r||function({errors:e,name:t,error:r,validFields:n,fieldsWithValidation:c}){const s=V(r),i=x(e,t);return s&&!!i||!s&&!Q(i,r,!0)||s&&x(c,t)&&!x(n,t)}({errors:me.current.errors,error:t,name:e,validFields:P.current,fieldsWithValidation:E.current});const i=x(me.current.errors,e);t?(q(P.current,e),s=s||!i||!Q(i,t,!0),R(me.current.errors,e,t)):((x(E.current,e)||te.current)&&(R(P.current,e,!0),s=s||i),q(me.current.errors,e)),(s&&!h(r)||!J(n))&&Ee(Object.assign(Object.assign(Object.assign({},n),{errors:me.current.errors}),te.current?{isValid:!!c}:{}))},[]),Ce=Object(n.useCallback)((e,t)=>{const{ref:r,options:n}=j.current[e],s=be&&c(r)&&h(t)?\"\":t;A(r)&&n?n.forEach(({ref:e})=>e.checked=e.value===s):N(r)&&!G(s)?r.files=s:_(r)?[...r.options].forEach(e=>e.selected=s.includes(e.value)):T(r)&&n?n.length>1?n.forEach(({ref:e})=>e.checked=m(s)?!!s.find(t=>t===e.value):s===e.value):n[0].ref.checked=!!s:r.value=s},[]),Ve=()=>!Q(Be(),J(L.current)?B.current:L.current)||!J(me.current.dirtyFields),Fe=Object(n.useCallback)((e,t=!0)=>{if(he.current.isDirty||he.current.dirtyFields){const r=x(B.current,e)!==W(j,e,X),n=x(me.current.dirtyFields,e),c=me.current.isDirty;r?R(me.current.dirtyFields,e,!0):q(me.current.dirtyFields,e);const s={isDirty:Ve(),dirtyFields:me.current.dirtyFields},i=he.current.isDirty&&c!==s.isDirty||he.current.dirtyFields&&n!==x(me.current.dirtyFields,e);return i&&t&&(me.current=Object.assign(Object.assign({},me.current),s),Ee(Object.assign({},s))),i?s:{}}return{}},[]),xe=Object(n.useCallback)(async(e,t)=>{if(j.current[e]){const r=(await ne(j,ge,j.current[e],X))[e];return Re(e,r,t),V(r)}return!1},[Re,ge]),De=Object(n.useCallback)(async e=>{const{errors:t}=await te.current(Be(),ee.current,ge),r=me.current.isValid;if(m(e)){const r=e.map(e=>{const r=x(t,e);return r?R(me.current.errors,e,r):q(me.current.errors,e),!r}).every(Boolean);return Ee({isValid:J(t),errors:me.current.errors}),r}{const n=x(t,e);return Re(e,n,r!==J(t),{},J(t)),!n}},[Re,ge]),Pe=Object(n.useCallback)(async e=>{const t=e||Object.keys(j.current);if(te.current)return De(t);if(m(t)){const e=await Promise.all(t.map(async e=>await xe(e,null)));return Ee(),e.every(Boolean)}return await xe(t,he.current.isValid)},[De,xe]),Le=Object(n.useCallback)((e,t,{shouldDirty:r,shouldValidate:n})=>{const c={};R(c,e,t);for(const s of ce(e,t))j.current[s]&&(Ce(s,x(c,s)),r&&Fe(s),n&&Pe(s))},[Pe,Ce,Fe]),Ae=Object(n.useCallback)((e,t,r={})=>{j.current[e]?(Ce(e,t),r.shouldDirty&&Fe(e)):z(t)||(Le(e,t,r),re.current.has(e)&&(g.current[e]=t,Y.current[e]({[e]:t}),(he.current.isDirty||he.current.dirtyFields)&&(R(me.current.dirtyFields,e,function e(t,r,n,c,s){let i=-1;for(;++i<t.length;){for(const c in t[i])m(t[i][c])?(!n[i]&&(n[i]={}),n[i][c]=[],e(t[i][c],x(r[i]||{},c,[]),n[i][c],n[i],c)):x(r[i]||{},c)===t[i][c]?R(n[i]||{},c):n[i]=Object.assign(Object.assign({},n[i]),{[c]:!0});!n.length&&c&&delete c[s]}return n.length?n:void 0}(t,x(L.current,e,[]),x(me.current.dirtyFields,e,[]))),Ee({isDirty:!Q(Object.assign(Object.assign({},Be()),{[e]:t}),L.current),dirtyFields:me.current.dirtyFields})))),!O&&R(X.current,e,t)},[Fe,Ce,Le]),Ne=e=>U.current||p.current.has(e)||p.current.has((e.match(/\\w+/)||[])[0]),Te=(e,t=!0)=>{if(!J(y.current))for(const r in y.current)e&&y.current[r].size&&!y.current[r].has(e)&&!y.current[r].has(ue(e))||(w.current[r](),t=!1);return t};function _e(e){if(!O)for(const t of re.current)k(t)&&!e[t]&&(e=Object.assign(Object.assign({},e),{[t]:[]}));return e}function Be(e){if(G(e))return W(j,e,X);if(m(e)){const t={};for(const r of e)R(t,r,W(j,r,X));return t}return _e(K(j,X))}M.current=M.current?M.current:async({type:e,target:t})=>{const r=t.name,n=j.current[r];let c,i;if(n){const t=e===s,u=ie(Object.assign({isBlurEvent:t,isReValidateOnChange:ke,isReValidateOnBlur:Se,isTouched:!!x(me.current.touched,r),isSubmitted:me.current.isSubmitted},ae.current));let a=Fe(r,!1),o=!J(a)||Ne(r);if(t&&!x(me.current.touched,r)&&he.current.touched&&(R(me.current.touched,r,!0),a=Object.assign(Object.assign({},a),{touched:me.current.touched})),u)return Te(r),(!J(a)||o&&J(a))&&Ee(a);if(te.current){const{errors:e}=await te.current(Be(),ee.current,ge),t=me.current.isValid;c=x(e,r),i=J(e),t!==i&&(o=!0)}else c=(await ne(j,ge,n,X))[r];Te(r),Re(r,c,o,a,i)}};const Ie=Object(n.useCallback)(async(e={})=>{const{errors:t}=await te.current(Object.assign(Object.assign(Object.assign({},L.current),Be()),e),ee.current,ge),r=J(t);me.current.isValid!==r&&Ee({isValid:r,errors:t})},[ge]),Ue=Object(n.useCallback)((e,t)=>function(e,t,r,n,c,s){const{ref:i,ref:{name:u,type:a}}=r,o=e.current[u];if(!c){const t=W(e,u,n);V(t)||R(n.current,u,t)}if(a)if((A(i)||T(i))&&o){const{options:r}=o;m(r)&&r.length?(F(r).forEach((e,n)=>{const{ref:c}=e;(c&&$(c)&&H(e,c)||s)&&(D(c,t),q(r,`[${n}]`))}),r&&!F(r).length&&delete e.current[u]):delete e.current[u]}else($(i)&&H(o,i)||s)&&(D(i,t),delete e.current[u]);else delete e.current[u]}(j,M.current,e,X,O,t),[O]),We=Object(n.useCallback)((e,t)=>{e&&(Ue(e,t),O&&!F(e.options||[]).length&&(q(B.current,e.ref.name),q(P.current,e.ref.name),q(E.current,e.ref.name),q(me.current.errors,e.ref.name),R(me.current.dirtyFields,e.ref.name,!0),Ee({errors:me.current.errors,isDirty:Ve(),dirtyFields:me.current.dirtyFields}),te.current&&Ie()))},[Ie,Ue]);const $e=Object(n.useCallback)((e,t,r)=>{const n=r?y.current[r]:p.current,c=V(t)?L.current:t,s=K(j,X,!1,e);return G(e)?se(s,e,n,V(t)?x(c,e):t,!0):m(e)?e.reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:se(s,t,n,c)}),{}):(U.current=V(r),C(!J(s)&&s||c))},[]);function Je(e,t={}){const{name:n,type:a,value:o}=e,l=Object.assign({ref:e},t),f=j.current,d=fe(e),b=oe(re.current,n),O=t=>be&&(!c(e)||t===e);let v,g=f[n],p=!0;if(g&&(d?m(g.options)&&F(g.options).find(e=>o===e.ref.value&&O(e.ref)):O(g.ref)))return void(f[n]=Object.assign(Object.assign({},g),t));g=a?d?Object.assign({options:[...F(g&&g.options||[]),{ref:e}],ref:{type:a,name:n}},t):Object.assign({},l):l,f[n]=g;const y=V(x(X.current,n));if(J(L.current)&&y||(v=x(y?L.current:X.current,n),p=V(v),p||b||Ce(n,v)),r&&he.current.isValid?Ie():J(t)||(R(E.current,n,!0),!ve&&he.current.isValid&&ne(j,ge,g,X).then(e=>{const t=me.current.isValid;J(e)?R(P.current,n,!0):q(P.current,n),t!==J(e)&&Ee()})),!B.current[n]&&(!b||!p)){const e=W(j,n,X);R(B.current,n,p?S(e)?Object.assign({},e):e:v),!b&&q(me.current.dirtyFields,n)}a&&function({ref:e},t,r){c(e)&&r&&(e.addEventListener(t?i:u,r),e.addEventListener(s,r))}(d&&g.options?g.options[g.options.length-1]:g,d||\"select-one\"===e.type,M.current)}const Me=Object(n.useCallback)((e,t)=>async r=>{r&&r.preventDefault&&(r.preventDefault(),r.persist());let n={},c=_e(K(j,X,!0));he.current.isSubmitting&&Ee({isSubmitting:!0});try{if(te.current){const{errors:e,values:t}=await te.current(c,ee.current,ge);me.current.errors=e,n=e,c=t}else for(const e of Object.values(j.current))if(e){const{ref:{name:t}}=e,r=await ne(j,ge,e,X);r[t]?(R(n,t,r[t]),q(P.current,t)):x(E.current,t)&&(q(me.current.errors,t),R(P.current,t,!0))}J(n)&&Object.keys(me.current.errors).every(e=>e in j.current)?(Ee({errors:{},isSubmitting:!0}),await e(c,r)):(me.current.errors=Object.assign(Object.assign({},me.current.errors),n),t&&await t(n,r),b&&((e,t)=>{for(const r in e)if(x(t,r)){const t=e[r];if(t){if(t.ref.focus){t.ref.focus();break}if(t.options){t.options[0].ref.focus();break}}}})(j.current,n))}finally{Ee({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:J(me.current.errors),errors:me.current.errors,submitCount:me.current.submitCount+1})}},[b,ge]);we.current=we.current||!be?we.current:function(e,t){const r=new MutationObserver(()=>{for(const r of Object.values(e.current))if(r&&r.options)for(const e of r.options)e&&e.ref&&$(e.ref)&&t(r);else r&&$(r.ref)&&t(r)});return r.observe(window.document,{childList:!0,subtree:!0}),r}(j,We),Object(n.useEffect)(()=>(I.current=!1,()=>{I.current=!0,we.current&&we.current.disconnect(),X.current={},j.current&&Object.values(j.current).forEach(e=>We(e,!0))}),[We]),!r&&he.current.isValid&&(pe.isValid=Q(P.current,E.current)&&J(me.current.errors));const qe={trigger:Pe,setValue:Object(n.useCallback)((function(e,t,r){Ae(e,t,r),Ne(e)&&Ee(),Te(e),(r||{}).shouldValidate&&Pe(e)}),[Ae,Pe]),getValues:Object(n.useCallback)(Be,[]),register:Object(n.useCallback)((function(e,t){if(!de)if(G(e))Je({name:e},t);else{if(!S(e)||!(\"name\"in e))return t=>t&&Je(t,e);Je(e,t)}}),[L.current]),unregister:Object(n.useCallback)((function(e){for(const t of m(e)?e:[e])We(j.current[t],!0)}),[])},He=Object.assign({renderWatchedInputs:Te,shouldUnregister:O,removeFieldEventListener:Ue,watchInternal:$e,mode:ae.current,reValidateMode:{isReValidateOnBlur:Se,isReValidateOnChange:ke},fieldsRef:j,isWatchAllRef:U,watchFieldsRef:p,resetFieldArrayFunctionRef:Y,useWatchFieldsRef:y,useWatchRenderFunctionsRef:w,fieldArrayDefaultValuesRef:g,validFieldsRef:P,fieldsWithValidationRef:E,fieldArrayNamesRef:re,readFormStateRef:he,formStateRef:me,defaultValuesRef:L,shallowFieldsStateRef:X,updateFormState:Ee,validateResolver:r?Ie:void 0},qe);return Object.assign({watch:function(e,t){return $e(e,t)},control:He,formState:Oe?new Proxy(pe,{get:(e,t)=>{if(t in e)return he.current[t]=!0,e[t]}}):pe,handleSubmit:Me,reset:Object(n.useCallback)((e,t={})=>{if(be)for(const n of Object.values(j.current))if(n){const{ref:e,options:t}=n,s=fe(e)&&m(t)?t[0].ref:e;if(c(s))try{s.closest(\"form\").reset();break}catch(r){}}j.current={},L.current=Object.assign({},e||L.current),e&&Te(\"\"),X.current=O?{}:Object.assign({},e)||{},Object.values(Y.current).forEach(e=>Z(e)&&e()),(({errors:e,isDirty:t,isSubmitted:r,touched:n,isValid:c,submitCount:s,dirtyFields:i})=>{c||(P.current={},E.current={}),B.current={},g.current={},p.current=new Set,U.current=!1,Ee({submitCount:s?me.current.submitCount:0,isDirty:!!t&&me.current.isDirty,isSubmitted:!!r&&me.current.isSubmitted,isValid:!!c&&me.current.isValid,dirtyFields:i?me.current.dirtyFields:{},touched:n?me.current.touched:{},errors:e?me.current.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})})(t)},[]),clearErrors:Object(n.useCallback)((function(e){e&&(m(e)?e:[e]).forEach(e=>j.current[e]?k(e)?delete me.current.errors[e]:R(me.current.errors,e,void 0):q(me.current.errors,e)),Ee({errors:e?me.current.errors:{}})}),[]),setError:Object(n.useCallback)((function(e,t){const r=(j.current[e]||{}).ref;R(me.current.errors,e,Object.assign(Object.assign({},t),{ref:r})),Ee({isValid:!1,errors:me.current.errors}),t.shouldFocus&&r&&r.focus&&r.focus()}),[]),errors:pe.errors},qe)}const je=Object(n.createContext)(null);je.displayName=\"RHFContext\"},a3WO:function(e,t,r){\"use strict\";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,\"a\",(function(){return n}))},o0o1:function(e,t,r){e.exports=r(\"ls82\")},puqk:function(e,t,r){\"use strict\";(function(e){var n=r(\"q1tI\");t.a=function(t,r,c,s){void 0===c&&(c=e),void 0===s&&(s={});var i=Object(n.useRef)(),u=s.capture,a=s.passive,o=s.once;Object(n.useEffect)((function(){i.current=r}),[r]),Object(n.useEffect)((function(){if(c&&c.addEventListener){var e=function(e){return i.current(e)},r={capture:u,passive:a,once:o};return c.addEventListener(t,e,r),function(){c.removeEventListener(t,e,r)}}}),[t,c,u,a,o])}}).call(this,r(\"yLpj\"))},rePB:function(e,t,r){\"use strict\";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,\"a\",(function(){return n}))},yLpj:function(e,t){var r;r=function(){return this}();try{r=r||new Function(\"return this\")()}catch(n){\"object\"===typeof window&&(r=window)}e.exports=r}}]);","extractedComments":[]}